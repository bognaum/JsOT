{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA,iBAAiB,mBAAO,CAAC,6BAAY;AACrC;AACA,mBAAO,CAAC,0CAAgB;;;;;;;;;;;;;;;ACFT;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACrYmC;AACM;AACC;AACE;AAC5C;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kDAAS;AACpC;AACA,wCAAwC,OAAO,QAAQ,MAAM;AAC7D,wCAAwC,OAAO,QAAQ,MAAM;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,qDAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,uDAAS;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,qDAAY;AACtD,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,UAAU,yDAAgB;AAC1B,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,wDAAU;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,gBAAgB,kDAAS;AACzB;AACA;AACA,wDAAwD,MAAM,OAAO,MAAM;AAC3E,wDAAwD,MAAM,OAAO,MAAM;AAC3E,wDAAwD,MAAM,OAAO,MAAM;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,MAAM,OAAO,MAAM;AAC3E,wDAAwD,MAAM,OAAO,MAAM;AAC3E,wDAAwD,MAAM,OAAO,MAAM;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,QAAQ,sDAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrWmC;AACnC;AACe;AACf;AACA;AACA;AACA;AACA,wBAAwB,mCAAmC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mCAAmC;AAC3D;AACA;AACA;AACA;AACA,cAAc,YAAY,IAAI,iBAAiB;AAC/C;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA,kBAAkB,WAAW,QAAQ,8BAA8B;AACnE;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW,EAAE,UAAU;AAC7D;AACA;AACA,mCAAmC,OAAO,EAAE,SAAS;AACrD,cAAc,MAAM,IAAI,WAAW;AACnC;AACA;AACA;AACA,gDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,gEAAuB;AAC9B;AACA;AACA,kCAAkC,gEAAuB;AACzD,kCAAkC,wDAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,sDAAsD,aAAa;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpOsC;AACmC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE,4FAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,2CAA2C,IAAI;AAC/C,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,aAAa;AACb;AACA,YAAY;AACZ;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,yBAAyB;AACzB,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACe,sBAAsB,4FAAsB;AAC3D;AACA;AACA,EAAE,sDAAQ;AACV;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpLe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC0C;AACM;AACC;AACH;AAC2B;AACZ;AACV;AACnD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kBAAkB;AAClB,cAAc,4EAAiB;AAC/B;AACA;AACA;AACA;AACA,MAAM;AACN,WAAW,2FAAsC;AACjD,YAAY;AACZ;AACA;AACA,qBAAqB,mDAAU;AAC/B,qBAAqB,6DAAuB;AAC5C;AACA;AACA;AACA,iEAAe,GAAG,EAAC;AACnB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,mCAAmC;AAC3C;AACA,SAAS,wDAAU;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wDAAU;AAClB;AACA;AACA;AACA;AACA,UAAU;AACV,GAAG;AACH,iBAAiB,gEAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxFsC;AACmC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE,4FAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAA2C;AAC3D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACe,2BAA2B,4FAAsB;AAChE;AACA;AACA,EAAE,sDAAQ;AACV;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7Ge;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACzGgC;AACW;AAC3C;AACe;AACf,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,8GAAc;AACjB,GAAG,0GAAY;AACf,GAAG,8GAAc;AACjB,GAAG,4GAAa;AAChB;AACA,yCAAyC,kEAAe;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI;AACX;AACA;AACA,uBAAuB,yDAAgB;AACvC,mBAAmB,uDAAS;AAC5B,cAAc,qDAAY;AAC1B;AACA;AACA,MAAM;AACN,MAAM;AACN,+CAA+C;AAC/C;AACA,4BAA4B,cAAc,GAAG,cAAc;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/HmC;AACnC;AACA;AACA;AACe,kCAAkC;AACjD;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,sBAAsB,yDAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,OAAO;AACP;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL,mBAAmB;AACnB,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpZmC;AACM;AACG;AAC5C;AACA;AACA,CAAC,0DAAQ;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iEAAe,UAAU,EAAC;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,GAAG;AACpD,yBAAyB,kDAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE,kBAAkB,WAAW,IAAI,SAAS;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mDAAU;AAC7C;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,kDAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,yDAAgB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnT6C;AAC7C;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,kCAAkC;AAClC,kCAAkC;AAClC,kCAAkC;AAClC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qDAAY;AAC/B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,iEAAiE,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ,IAAI,OAAO;AACjC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB,GAAG,kBAAkB;AACnE;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC,qBAAqB,YAAY,mCAAmC,IAAI;AACxE,qBAAqB,YAAY;AACjC,qBAAqB,YAAY;AACjC;AACA;AACA;AACA,kBAAkB,6BAA6B;AAC/C,kBAAkB,6BAA6B;AAC/C,kBAAkB,6BAA6B;AAC/C,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA,2CAA2C,eAAe;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjTe;AACf;AACA;AACA,UAAU,YAAY;AACtB,UAAU,UAAU;AACpB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtB0C;AAC1C;AACe;AACf;AACA;AACA,YAAY,eAAe;AAC3B,YAAY,gBAAgB;AAC5B,YAAY,iBAAiB;AAC7B,aAAa,kBAAkB;AAC/B,UAAU,mBAAmB,cAAc;AAC3C,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,SAAS,cAAc;AACvB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI,8BAA8B;AAClC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uBAAuB;AAC3B;AACA,YAAY,kDAAS;AACrB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClIA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,UAAU;AAC3D;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,iDAAiD,OAAO,KAAK,UAAU;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,MAAM;AACjE,oDAAoD,MAAM,eAAe,MAAM;AAC/E,GAAG;AACH;AACA;;;;;;;;;;;;;;;;;ACjS2C;AACA;AAC3C;AACA,iEAAe;AACf;AACA,YAAY;AACZ,YAAY;AACZ,CAAC;;;;;;;;;;;;;;;ACPD,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,qDAAqD,sBAAsB;AAC3E;;;;;;;UC9OA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;UEAA;UACA;UACA;UACA","sources":["webpack://jsot/external \"fs\"","webpack://jsot/external \"http\"","webpack://jsot/external \"path\"","webpack://jsot/external \"url\"","webpack://jsot/./src/index.js","webpack://jsot/./CSS/JsOT.scss.js","webpack://jsot/./Explorer.js","webpack://jsot/./HeaderCode.js","webpack://jsot/./JsHter/JsHter.js","webpack://jsot/./JsHter/set-style.js","webpack://jsot/./JsOT.js","webpack://jsot/./JsonErrHter/JsonErrHter.js","webpack://jsot/./JsonErrHter/set-style.js","webpack://jsot/./NodeJsServerAgent/NodeJsServerAgent.js","webpack://jsot/./parse-tree.js","webpack://jsot/./render-tree.js","webpack://jsot/./syntax-highlight-framework/Highlighter.js","webpack://jsot/./syntax-highlight-framework/ModelNode.js","webpack://jsot/./syntax-highlight-framework/ParseContext.js","webpack://jsot/./syntax-highlight-framework/describeAPI.js","webpack://jsot/./syntax-highlight-framework/syntax-hl-fk.js","webpack://jsot/./util.js","webpack://jsot/webpack/bootstrap","webpack://jsot/webpack/runtime/create fake namespace object","webpack://jsot/webpack/runtime/define property getters","webpack://jsot/webpack/runtime/hasOwnProperty shorthand","webpack://jsot/webpack/runtime/make namespace object","webpack://jsot/webpack/runtime/node module decorator","webpack://jsot/webpack/runtime/publicPath","webpack://jsot/webpack/before-startup","webpack://jsot/webpack/startup","webpack://jsot/webpack/after-startup"],"sourcesContent":["module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.txports = require(\"../JsOT.js\");\r\n\r\nrequire(\"./package.json\");","export default function setStyle(clPref=\"jsot\") {\r\n\r\n\tconst cssCode = `@charset \"UTF-8\";\n.jsot .row .header[data-highlighted=true] .name {\n  color: #333;\n  text-shadow: 0 0 1px #333;\n  font-weight: bold;\n}\n.jsot .row .header .fold-sign[data-fold-state=unfolded]:before {\n  content: \"\";\n}\n.jsot .row .header .fold-sign[data-fold-state=folded]:before {\n  content: \" + \";\n  border: 1px solid #999;\n  margin: -1px;\n  margin-right: 5px;\n}\n.jsot .row .header .fold-sign[data-fold-state=not-folded]:before {\n  content: \"\";\n}\n.jsot .row .header .sign {\n  user-select: none;\n  cursor: default;\n  text-shadow: 0 0 1px #999;\n}\n.jsot .row .header .sign b {\n  text-shadow: none;\n}\n.jsot .row .header .name-wr {\n  display: inline-block;\n  font-style: italic;\n}\n.jsot .row .header .name-wr .get-set {\n  font-style: italic;\n  user-select: none;\n}\n.jsot .row .header .name-wr .get-set:before {\n  content: \"(\";\n}\n.jsot .row .header .name-wr .get-set:after {\n  content: \")\";\n}\n.jsot .row .header .name-wr .get-set .get,\n.jsot .row .header .name-wr .get-set .set {\n  cursor: default;\n}\n.jsot .row .header .name-wr .name {\n  font-weight: bold;\n  font-style: italic;\n  color: #789;\n}\n.jsot .row .header .name-wr .name.iter-name {\n  font-style: normal;\n  /* &:before {\n  \tcontent: \"i\";\n  \tcolor: $bright_color;\n  } */\n}\n.jsot .row .header .name-wr .name.iter-name:before {\n  content: \"[\";\n}\n.jsot .row .header .name-wr .name.iter-name:after {\n  content: \"]\";\n}\n.jsot .row .header .name-wr .name.iter-name:before, .jsot .row .header .name-wr .name.iter-name:after {\n  font-style: normal;\n  color: #333;\n}\n.jsot .row .header .name-wr .name.nip-name:before, .jsot .row .header .name-wr .name.nip-name:after {\n  content: \"'\";\n  color: transparent;\n}\n.jsot .row .header .name-wr .name.symbol-name:before, .jsot .row .header .name-wr .name.symbol-name:after {\n  font-style: normal;\n  color: #333;\n}\n.jsot .row .header .name-wr[data-g-s-call=true]:before {\n  content: \"(\";\n}\n.jsot .row .header .name-wr[data-g-s-call=true]:after {\n  content: \")\";\n}\n.jsot .row .header .name-wr[data-g-s-call=true]:before, .jsot .row .header .name-wr[data-g-s-call=true]:after {\n  color: #333;\n  font-weight: bold;\n}\n.jsot .row .header .name-wr[data-g-s-call=true] .get-set {\n  font-weight: bold;\n  color: #333;\n  user-select: none;\n}\n.jsot .row .header .name-wr[data-g-s-call=true] .get-set:before {\n  content: \"\";\n}\n.jsot .row .header .name-wr[data-g-s-call=true] .get-set:after {\n  content: \"\";\n}\n.jsot .row .header .c-bar {\n  color: #333;\n  white-space: normal;\n  margin-top: 19px;\n  margin-top: 1.2em;\n  position: absolute;\n  border: 1px solid #777;\n  box-shadow: 0 5px 10px #333;\n  padding: 2px 5px;\n  background-color: #eee;\n  vertical-align: bottom;\n  display: inline-block;\n  cursor: default;\n}\n.jsot .row .header .c-bar button {\n  cursor: pointer;\n  height: 25px;\n}\n.jsot .row .header .c-bar .loadbar-wrapper {\n  display: inline-block;\n  text-align: center;\n  min-width: 2em;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar {\n  display: none;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=loading], .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-l], .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-loading] {\n  border: 2px solid #333;\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n  border-radius: 50px;\n  position: relative;\n  bottom: -3px;\n  margin: -3px 0;\n  background-color: #ccc;\n  box-shadow: inset 0 0 5px #fff, 0 0 5px #333;\n  display: inline-block;\n  animation: rotate-loadbar 1s infinite linear;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=loading] .inner, .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-l] .inner, .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-loading] .inner {\n  border: 6px solid #333;\n  margin: 2px;\n  border-right-color: transparent;\n  border-left-color: transparent;\n  border-radius: 50px;\n  animation: rotate-loadbar reverse 0.5s infinite linear;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=ok], .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-ok] {\n  display: inline-block;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=ok]:before, .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-ok]:before {\n  content: \"OK\";\n  font-weight: bold;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=err], .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-err] {\n  display: inline-block;\n}\n.jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=err]:before, .jsot .row .header .c-bar .loadbar-wrapper .loadbar[data-status=test-err]:before {\n  content: \"ERR\";\n  color: #f00;\n  font-weight: bold;\n}\n.jsot .row .header .c-bar .sort-by {\n  margin: 3px 0;\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher {\n  display: inline-block;\n  min-width: 100px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  padding: 0 5px;\n  font-size: 0.9em;\n  font-family: arial;\n  cursor: pointer;\n  user-select: none;\n  text-align: center;\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_name][data-state=\"-1\"]:after {\n  content: \"Inherit\";\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_name][data-state=\"0\"]:after {\n  content: \"No\";\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_name][data-state=\"1\"]:after {\n  content: \"Yes\";\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_type][data-state=\"-1\"]:after {\n  content: \"Inherit\";\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_type][data-state=\"0\"]:after {\n  content: \"No\";\n}\n.jsot .row .header .c-bar .sort-by > .setting-switcher[data-setting-name=by_type][data-state=\"1\"]:after {\n  content: \"Yes\";\n}\n.jsot .row .header .n-v-delim .cevw .descr-property {\n  cursor: default;\n}\n.jsot .row .header .n-v-delim .cevw .descr-property.false {\n  font-weight: bold;\n}\n.jsot .row .header .n-v-delim .cevw .descr-property.false:before {\n  content: \"̷\";\n}\n.jsot .row .header .n-v-delim .esf {\n  cursor: default;\n}\n.jsot .row .header .n-v-delim .esf .object-option.false:before {\n  content: \"̸\";\n}\n.jsot .row .header .n-v-delim .esf .object-option.extensible.false, .jsot .row .header .n-v-delim .esf .object-option.frozen.true, .jsot .row .header .n-v-delim .esf .object-option.sealed.true {\n  font-weight: bold;\n  text-decoration: underline;\n}\n.jsot .row .header > .value {\n  font-style: italic;\n}\n.jsot .row .header > .value.tof-undefined {\n  font-weight: bold;\n  font-style: italic;\n  color: #777;\n}\n.jsot .row .header > .value.tof-boolean {\n  font-weight: bold;\n  color: #449;\n}\n.jsot .row .header > .value.tof-number {\n  font-style: normal;\n  color: #963;\n}\n.jsot .row .header > .value.tof-string {\n  font-style: italic;\n  color: #3a3;\n  white-space: nowrap;\n}\n.jsot .row .header > .value.tof-string:before, .jsot .row .header > .value.tof-string:after {\n  content: '\"';\n  color: #3a3;\n}\n.jsot .row .header > .value.tof-object.is-null {\n  font-weight: bold;\n  color: #777;\n}\n.jsot .row .header .name .local-reg-num:before,\n.jsot .row .header .value .local-reg-num:before {\n  content: \"-@@-\";\n}\n.jsot .row .header .name .local-reg-num:after,\n.jsot .row .header .value .local-reg-num:after {\n  content: \"-\";\n}\n.jsot .row .header .name .local-reg-num:before, .jsot .row .header .name .local-reg-num:after,\n.jsot .row .header .value .local-reg-num:before,\n.jsot .row .header .value .local-reg-num:after {\n  color: #333;\n}\n.jsot .row .header .name .symbol-description:before,\n.jsot .row .header .value .symbol-description:before {\n  content: '\"';\n}\n.jsot .row .header .name .symbol-description:after,\n.jsot .row .header .value .symbol-description:after {\n  content: '\"';\n}\n.jsot .row .header .name .symbol-description:before, .jsot .row .header .name .symbol-description:after,\n.jsot .row .header .value .symbol-description:before,\n.jsot .row .header .value .symbol-description:after {\n  color: #333;\n}\n.jsot .row .header .comment {\n  font-weight: bold;\n  font-style: italic;\n  color: #faa;\n}\n.jsot .row .header .comment:before {\n  content: \"← \";\n  font-style: normal;\n}\n\n.jsot {\n  font-size: 16px;\n  font-family: consolas;\n  color: #999;\n}\n.jsot .row {\n  display: block;\n  padding-right: 30px;\n}\n.jsot .row .branch {\n  cursor: pointer;\n  text-shadow: 0 0 1px #999;\n}\n.jsot .row .header-ext {\n  min-width: 50px;\n}\n.jsot .row:hover {\n  background-color: #eff;\n}\n.jsot .row:hover .name.nip-name:before, .jsot .row:hover .name.nip-name:after {\n  color: #333;\n}\n.jsot .c-window {\n  white-space: normal;\n  border: 1px solid #777;\n  box-shadow: 0 5px 20px #333;\n  margin: 5px;\n  padding: 5px;\n  background-color: #eee;\n}\n.jsot .c-window > .c-w-header,\n.jsot .c-window > .c-w-footer {\n  text-align: right;\n}\n.jsot .c-window > .c-w-header > .btn-el,\n.jsot .c-window > .c-w-footer > .btn-el {\n  height: 20px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: #888;\n  cursor: pointer;\n  user-select: none;\n  vertical-align: middle;\n}\n.jsot .c-window > .c-w-header > .btn-el:hover,\n.jsot .c-window > .c-w-footer > .btn-el:hover {\n  text-shadow: 0 0 1px #888, 0 0 1px #888, 0 0 1px #888;\n}\n.jsot .c-window > .c-w-header > .btn-el:active,\n.jsot .c-window > .c-w-footer > .btn-el:active {\n  text-shadow: 0 0 10px #888, 0 0 10px #888, 0 0 10px #888, 0 0 1px #888, 0 0 1px #888, 0 0 1px #888;\n}\n.jsot .c-window > .c-w-content-wr {\n  margin: 5px 0;\n  border: 1px solid #777;\n  font-weight: normal;\n}\n.jsot .c-window > .c-w-content-wr pre.js-hl-c-w-content.jsot-syntax-hl {\n  margin: 0;\n  display: block;\n  padding: 10px 20px;\n  max-height: none;\n}\n.jsot .c-window > .c-w-content-wr pre.js-hl-c-w-content.jsot-syntax-hl[data-max-heigth=true] {\n  max-height: 500px;\n  overflow-y: scroll;\n}\n.jsot .c-window .float-cleaner {\n  clear: both;\n}\n.jsot .c-window.dark-skin {\n  border: none;\n  background-color: #444;\n}\n.jsot .c-window.dark-skin > .c-w-content-wr {\n  border: none;\n}\n\n@keyframes rotate-loadbar {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmaWxlOi8vL0Q6L0dpdEh1Yi1teS9Kc09UL0NTUy9faGVhZGVyLnNjc3MiLCJmaWxlOi8vL0Q6L0dpdEh1Yi1teS9Kc09UL0NTUy9Kc09ULnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUtJO0VBRUMsT0NOaUI7RURPakI7RUFDQTs7QUFNQTtFQUNDOztBQUlEO0VBQ0M7RUFDQTtFQUNBO0VBQ0E7O0FBSUQ7RUFDQzs7QUFLSDtFQUNDO0VBQ0E7RUFDQTs7QUFDQTtFQUNDOztBQUlGO0VBQ0M7RUFDQTs7QUFDQTtFQUNDO0VBRUE7O0FBRUE7RUFDQzs7QUFFRDtFQUNDOztBQUVEO0FBQUE7RUFFQzs7QUFJRjtFQUNDO0VBQ0E7RUFFQSxPQy9EaUI7O0FEZ0VqQjtFQUNDO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBSUE7RUFDQzs7QUFFRDtFQUNDOztBQUVEO0VBRUM7RUFDQSxPQ2xGZTs7QUR1RmhCO0VBRUM7RUFDQTs7QUFXRDtFQUVDO0VBQ0EsT0N4R2U7O0FEZ0hsQjtFQUNDOztBQUVEO0VBQ0M7O0FBRUQ7RUFFQyxPQ3hIaUI7RUR5SGpCOztBQUVEO0VBQ0M7RUFDQSxPQzdIaUI7RUQ4SGpCOztBQUNBO0VBQ0M7O0FBRUQ7RUFDQzs7QUFLSDtFQUNDO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNDO0VBQ0E7O0FBRUQ7RUFDQztFQUNBO0VBQ0E7O0FBRUE7RUFFQzs7QUFFQTtFQUdDO0VBRUE7RUFFQTtFQUdBO0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQWNBO0VBQ0E7O0FBYkE7RUFDQztFQUNBO0VBR0E7RUFFQTtFQUVBO0VBQ0E7O0FBTUY7RUFFQzs7QUFDQTtFQUNDO0VBQ0E7O0FBSUY7RUFFQzs7QUFDQTtFQUNDO0VBQ0E7RUFDQTs7QUFLSjtFQUNDOztBQUNBO0VBQ0M7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBR0M7RUFBMEI7O0FBQzFCO0VBQTBCOztBQUMxQjtFQUEwQjs7QUFHMUI7RUFBMEI7O0FBQzFCO0VBQTBCOztBQUMxQjtFQUEwQjs7QUF3QjVCO0VBQ0M7O0FBQ0E7RUFDQzs7QUFDQTtFQUNDOztBQVFKO0VBQ0M7O0FBSUU7RUFDQzs7QUFNRjtFQUdDO0VBQ0E7O0FBT0o7RUFDQzs7QUFDQTtFQUNDO0VBQ0E7RUFDQSxPQ3ZTaUI7O0FEeVNsQjtFQUNDO0VBQ0EsT0N6U2lCOztBRDJTbEI7RUFFQztFQUNBLE9DalRpQjs7QURtVGxCO0VBQ0M7RUFDQSxPQ3ZUaUI7RUR3VGpCOztBQUNBO0VBRUM7RUFDQSxPQzVUZ0I7O0FEa1VqQjtFQUNDO0VBQ0EsT0NoVWdCOztBRHVVbEI7QUFBQTtFQUNDOztBQUVEO0FBQUE7RUFDQzs7QUFFRDtBQUFBO0FBQUE7RUFFQyxPQzFWaUI7O0FEaVdsQjtBQUFBO0VBQ0M7O0FBRUQ7QUFBQTtFQUNDOztBQUdEO0FBQUE7QUFBQTtFQUVDLE9DMVdpQjs7QUQ4V25CO0VBQ0M7RUFDQTtFQUNBLE9DNVdrQjs7QUQ4V2xCO0VBQ0M7RUFDQTs7O0FDbldMO0VBQ0M7RUFDQTtFQUNBLE9BcEJxQjs7QUFzQnJCO0VBQ0M7RUFDQTs7QUFHQTtFQUVDO0VBQ0E7O0FBRUQ7RUFDQzs7QUFHRjtFQUNDLGtCQXpCb0I7O0FBNEJuQjtFQUVDLE9BM0NrQjs7QUFnRHJCO0VBQ0M7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUNBO0FBQUE7RUFHQzs7QUFDQTtBQUFBO0VBQ0M7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFFQTs7QUFDQTtBQUFBO0VBQ0MsYUFDQzs7QUFJRjtBQUFBO0VBQ0MsYUFDQzs7QUFTSjtFQUdDO0VBQ0E7RUFDQTs7QUFHQTtFQUNDO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0M7RUFDQTs7QUFJSDtFQUNDOztBQUlGO0VBQ0M7RUFDQTs7QUFDQTtFQUNDOzs7QUFNSDtFQUNDO0lBQ0M7O0VBRUQ7SUFDQyIsImZpbGUiOiJKc09ULnNjc3MuanMifQ== */`.replaceAll(/\\bjsot/g, clPref);\r\n\r\n\tconst styleClassName = `${clPref}__theme-style`;\r\n\r\n\tconst styleAlreadyExists = [].some.call(\r\n\t\tdocument.querySelectorAll(`style.${styleClassName}`), \r\n\t\t(v) => v.textContent === cssCode\r\n\t);\r\n\r\n\tif (! styleAlreadyExists) {\r\n\t\tconst style = eHTML(`<style class=\"${styleClassName}\"></style>`);\r\n\t\tstyle.textContent = cssCode;\r\n\t\tdocument.head.appendChild(style);\r\n\t}\r\n}\r\n\r\n\r\nfunction eHTML(code, shell=null) {\r\n\tconst _shell = \r\n\t\t! shell                  ? document.createElement(\"div\") :\r\n\t\ttypeof shell == \"string\" ? document.createElement(shell) :\r\n\t\ttypeof shell == \"object\" ? shell :\r\n\t\t\tnull;\r\n\t_shell.innerHTML = code;\r\n\treturn _shell.children[0];\r\n}","import util       from \"./util.js\";\r\nimport parseTree  from \"./parse-tree.js\";\r\nimport renderTree from \"./render-tree.js\";\r\nimport JsHter     from \"./JsHter/JsHter.js\";\r\n\r\nexport default class Explorer {\r\n\t// **********************\r\n\t// _ = {\r\n\t//     ob               :\r\n\t//     t                :\r\n\t//     name             :\r\n\t//     ajaxReqUrl       :\r\n\t//     transact         :\r\n\t// }\r\n\t// **********************\r\n\tconstructor (inputEl, _={}) {\r\n\t\t// _.ob = _.ob || window;\r\n\t\t\r\n\t\tthis._ = _;\r\n\t\tif (!_.ob) {\r\n\t\t\ttry {\r\n\t\t\t\t_.ob = global;\r\n\t\t\t} catch(err) {} \r\n\t\t\ttry {\r\n\t\t\t\t_.ob = window;\r\n\t\t\t} catch(err) {} \r\n\t\t}\r\n\t\t_.t = _.t || {};\r\n\t\t_.name = _.name || \"rootNode\";\r\n\r\n\t\tif (_.ajaxReqUrl) {\r\n\t\t\t_.transact = _.transact || this._defaultAjaxTransact;\r\n\t\t} else {\r\n\t\t\t_.transact = _.transact || this._defaultTransact;\r\n\t\t}\r\n\r\n\t\tthis._createCBar(inputEl, _);\r\n\t\tthis._display(inputEl);\r\n\r\n\t}\r\n\r\n\t_createCBar (inputEl, _) {\r\n\t\tconst cBar = this.cBar = util.eval(`\r\n\t\t\t<div class=\"c-bar\">\r\n\t\t\t\t<button class=\"expand-node\"  >&nbsp;&nbsp; + &nbsp;&nbsp;</button>\r\n\t\t\t\t<button class=\"collapse-node\">&nbsp;&nbsp; - &nbsp;&nbsp;</button>\r\n\t\t\t\t<button class=\"recur-expand\"  > ↳ + </button>\r\n\t\t\t\t<button class=\"recur-collapse\"> ↳ - </button>\r\n\t\t\t\t<button class=\"update\"> ↻ </button>\r\n\t\t\t\t<button class=\"get-json\">\r\n\t\t\t\t\t<svg \r\n\t\t\t\t\t\tversion=\"1.1\" \r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\" \r\n\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n\t\t\t\t\t\tx=\"0px\" \r\n\t\t\t\t\t\ty=\"0px\"\r\n\t\t\t\t\t\twidth=\"15px\" \r\n\t\t\t\t\t\theight=\"15px\"\r\n\t\t\t\t\t\tviewBox=\"0 0 532.745 532.745\" \r\n\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\tvertical-align: bottom;\r\n\t\t\t\t\t\t\tenable-background:new 0 0 532.745 532.745;\r\n\t\t\t\t\t\t\" \r\n\t\t\t\t\t\txml:space=\"preserve\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<g>\r\n\t\t\t\t\t\t\t<g>\r\n\t\t\t\t\t\t\t\t<circle cx=\"266.373\" cy=\"284.534\" r=\"72.647\"/>\r\n\t\t\t\t\t\t\t\t<path d=\"M121.078,127.132V90.809H36.324v36.324H0v314.804h532.745V127.132H121.078z M266.373,417.721\r\n\t\t\t\t\t\t\t\t\tc-73.567,0-133.186-59.643-133.186-133.186s59.619-133.186,133.186-133.186s133.186,59.643,133.186,133.186\r\n\t\t\t\t\t\t\t\t\tS339.94,417.721,266.373,417.721z M472.206,211.887c-13.367,0-24.216-10.824-24.216-24.216s10.849-24.216,24.216-24.216\r\n\t\t\t\t\t\t\t\t\tc13.367,0,24.216,10.824,24.216,24.216C496.422,201.063,485.573,211.887,472.206,211.887z\"/>\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"show-value\"> .toString() </button> \r\n\t\t\t\t<button class=\"get-pathname\"> p/n </button> \r\n\t\t\t\t<div class=\"loadbar-wrapper\">\r\n\t\t\t\t\t<div class=\"loadbar\"><div class=\"inner\"></div></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"sort-by\">\r\n\t\t\t\t\tSort By: \r\n\t\t\t\t\t<span \r\n\t\t\t\t\t\tclass=\"setting-switcher\" \r\n\t\t\t\t\t\tdata-setting-name=\"by_name\"\r\n\t\t\t\t\t\tdata-state=\"-1\" \r\n\t\t\t\t\t\tdata-states='[-1,1,0]'>Name - </span>\r\n\t\t\t\t\t<span \r\n\t\t\t\t\t\tclass=\"setting-switcher\" \r\n\t\t\t\t\t\tdata-setting-name=\"by_type\"\r\n\t\t\t\t\t\tdata-state=\"-1\" \r\n\t\t\t\t\t\tdata-states='[-1,1,0]'>Type - </span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`).children[0];\r\n\r\n\t\tcBar.querySelectorAll(\"select\").forEach((v) => {\r\n\t\t\tv.onwheel = (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar \r\n\t\t\t\t\ti = v.selectedIndex + Math.sign(e.deltaY),\r\n\t\t\t\t\tmax = v.options.length - 1;\r\n\t\t\t\ti = (max < i)? 0 : (i < 0)? max : i;\r\n\t\t\t\tv.selectedIndex = i;\r\n\t\t\t\tthis._settingsToNode();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tcBar.querySelector(\".expand-node\").onclick = (e) => {\r\n\t\t\tcBar.m.ch = [];\r\n\t\t\tthis._display(inputEl);\r\n\t\t}\r\n\t\t\r\n\t\tcBar.querySelector(\".collapse-node\").onclick = (e) => {\r\n\t\t\tcBar.m.ch = null;\r\n\t\t\tthis._display(inputEl);\r\n\t\t}\r\n\r\n\t\tcBar.querySelectorAll(\".setting-switcher\").forEach((el) => {\r\n\t\t\tel.onclick = (e) => {\r\n\t\t\t\tvar \r\n\t\t\t\t\tstates = JSON.parse(el.dataset.states),\r\n\t\t\t\t\tstate = Number(el.dataset.state),\r\n\t\t\t\t\ti = states.indexOf(state);\r\n\t\t\t\ti ++;\r\n\t\t\t\tif (states.length <= i)\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\tel.dataset.state = states[i];\r\n\t\t\t\tthis._settingsToNode();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcBar.querySelector(\".recur-expand\").onclick = (e) => {\r\n\t\t\trecursive(cBar.m, (m) => {\r\n\t\t\t\t// !m.ch && m.tof == \"object\" && m.nip != \"__proto__\" && (m.ch = []);\r\n\t\t\t\tif (!m.ch)\r\n\t\t\t\t\tif (m.tof == \"object\")\r\n\t\t\t\t\t\tif (!m.individualDetectedProto)\r\n\t\t\t\t\t\t\tm.ch = [];\r\n\t\t\t});\r\n\t\t\tthis._display(inputEl);\r\n\t\t}\r\n\r\n\t\tcBar.querySelector(\".recur-collapse\").onclick = (e) => {\r\n\t\t\trecursive(cBar.m, (m) => {\r\n\t\t\t\tif (m.ch && m.ch.length)\r\n\t\t\t\t\tif (m.ch.every((v) => !v.ch))\r\n\t\t\t\t\t\tm.ch = null;\r\n\t\t\t});\r\n\t\t\tthis._display(inputEl);\r\n\t\t}\r\n\r\n\t\tcBar.querySelector(\".update\").onclick = (e) => {\r\n\t\t\tthis._display(inputEl);\r\n\t\t}\r\n\r\n\t\tcBar.querySelector(\".get-json\").onclick = (e) => {\r\n\t\t\tvar json = util.getJson(cBar.m);\r\n\r\n\t\t\tthis.copyToClipboard(json);\r\n\r\n\t\t\tconsole.groupCollapsed(cBar.m.pathname);\r\n\t\t\tconsole.log(cBar.m);\r\n\t\t\tconsole.log(json);\r\n\t\t\tconsole.groupEnd();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tcBar.querySelector(\".get-pathname\").onclick = (e) => {\r\n\t\t\tthis.copyToClipboard(cBar.m.pathname);\r\n\t\t\tconsole.log(`cBar.m.pathname`, cBar.m.pathname);\r\n\t\t}\r\n\r\n\t\tcBar.querySelector(\".show-value\").onclick = async (e) => {\r\n\t\t\tvar m = cBar.m;\r\n\t\t\tm.valueToString = true;\r\n\t\t\tvar param = await this._getParam();\r\n\t\t\tdelete m.valueToString;\r\n\t\t\tif (m.tof == \"function\")\r\n\t\t\t\tthis._showValue(param, m, true);\r\n\t\t\telse\r\n\t\t\t\tthis._showValue(param, m);\r\n\t\t\t// console.log(m.pathname, \"\\n\"+param);\r\n\t\t}\r\n\r\n\r\n\t\tfunction recursive(m, callb) {\r\n\t\t\tcallb(m);\r\n\t\t\tif (m.ch && m.ch.length)\r\n\t\t\t\tfor (var ch of m.ch) \r\n\t\t\t\t\trecursive(ch, callb);\r\n\t\t}\r\n\r\n\t\tfunction show(selector) {\r\n\t\t\tcBar.querySelector(selector).style.display = \"\";\r\n\t\t}\r\n\r\n\t\tfunction hide(selector) {\r\n\t\t\tcBar.querySelector(selector).style.display = \"none\";\r\n\t\t}\r\n\r\n\t\tcBar.init = (m) => {\r\n\t\t\tthis._settingsFromNode(m);\r\n\t\t\tif (m.ch) {\r\n\t\t\t\thide(\".expand-node\");\r\n\t\t\t\tshow(\".collapse-node\");\r\n\t\t\t} else {\r\n\t\t\t\tshow(\".expand-node\");\r\n\t\t\t\thide(\".collapse-node\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync _defaultTransact (_) {\r\n\t\treturn parseTree(_.ob, _.name, _.t);\r\n\t}\r\n\r\n\tasync _defaultAjaxTransact (_) {\r\n\t\tvar \r\n\t\t\topts = {\r\n\t\t\t\tmethod : \"POST\",\r\n\t\t\t\theaders : {\r\n\t\t\t\t\t'Content-Type' : 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tmode : \"cors\",\r\n\t\t\t\tcache : \"no-store\",\r\n\t\t\t\tbody : \"template=\"+encodeURIComponent(util.getJson(_.t)),\r\n\t\t\t},\r\n\t\t\tresp, text, t;\r\n\r\n\t\ttry {\r\n\t\t\tresp = await fetch(_.ajaxReqUrl, opts);\r\n\t\t\ttext = await resp.text();\r\n\t\t\tt    = util.getFromJson(text);\r\n\t\t} catch(e) {\r\n\t\t\tconsole.error(e);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\t}\r\n\r\n\r\n\tasync _indicate (pr) {\r\n\t\tvar res;\r\n\t\tthis.cBar.querySelector(\".loadbar\").dataset.status = \"loading\";\r\n\t\tthis.cBar.querySelector(\".loadbar\").title = \"Status: Loading ... \";\r\n\t\tawait new Promise((ok) => setTimeout(ok));\r\n\r\n\t\ttry {\r\n\t\t\tres = await pr;\r\n\t\t} catch(e) {\r\n\t\t\tthis.cBar.querySelector(\".loadbar\").dataset.status = \"err\";\r\n\t\t\tthis.cBar.querySelector(\".loadbar\").title = \"Status: \"+e.toString();\r\n\t\t\tconsole.error(e);\r\n\t\t\treturn e;\r\n\t\t}\r\n\r\n\t\tthis.cBar.querySelector(\".loadbar\").dataset.status = \"ok\";\r\n\t\tthis.cBar.querySelector(\".loadbar\").title = \"Status: OK\";\r\n\t\treturn res;\r\n\t}\r\n\r\n\tasync _display (inputEl) {\r\n\t\tvar _ = this._;\r\n\t\t_.t = await this._indicate(_.transact(_));\r\n\t\trenderTree(inputEl, _.t, this.cBar);\r\n\t}\r\n\r\n\tasync _getParam () {\r\n\t\tvar _ = this._;\r\n\t\treturn await this._indicate(_.transact(_));\r\n\t}\r\n\r\n\t_settingsToNode () {\r\n\t\tvar \r\n\t\t\tm    = this.cBar.m,\r\n\t\t\tcoll = this.cBar.querySelectorAll(\".setting-switcher\");\r\n\r\n\t\tcoll.forEach((el) => {\r\n\t\t\tlet k = el.dataset.settingName, v = Number(el.dataset.state);\r\n\t\t\tif (v < 0) {\r\n\t\t\t\tif (m.settings && k in m.settings)\r\n\t\t\t\t\tdelete m.settings[k];\r\n\t\t\t} else {\r\n\t\t\t\tm.settings = m.settings || {};\r\n\t\t\t\tm.settings[k] = v;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t_settingsFromNode () {\r\n\t\tvar \r\n\t\t\tm    = this.cBar.m,\r\n\t\t\tcoll = this.cBar.querySelectorAll(\".setting-switcher\");\r\n\r\n\t\tcoll.forEach((el) => {\r\n\t\t\tlet \r\n\t\t\t\tk = el.dataset.settingName, \r\n\t\t\t\tv = (m.settings && k in m.settings)? m.settings[k] : \"-1\";\r\n\t\t\tel.dataset.state = v;\r\n\t\t});\r\n\t}\r\n\r\n\t_showValue(value, m, highlight=false) {\r\n\t\tvar row = m.header.parentElement;\r\n\t\tvar cWindow = util.eval(`\r\n\t\t\t<div class=\"c-window dark-skin\">\r\n\t\t\t\t<div class=\"c-w-header\">\r\n\t\t\t\t\t<div class=\"btn-el scroll-btn\"title=\"scroll\">&nbsp;&nbsp;⭿&nbsp;&nbsp;</div>\r\n\t\t\t\t\t<div class=\"btn-el copy-btn\"  title=\"copy\"  >&nbsp;&nbsp;⧉&nbsp;&nbsp;</div>\r\n\t\t\t\t\t<div class=\"btn-el close-btn\" title=\"close\" >&nbsp;&nbsp;✖&nbsp;&nbsp;</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"float-cleaner\"></div>\r\n\t\t\t\t<div class=\"c-w-content-wr\">\r\n\t\t\t\t\t<pre class=\"js-hl-c-w-content jsot-syntax-hl jsot-js-hl calm-clarified-theme\"></pre>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"c-w-footer\">\r\n\t\t\t\t\t<div class=\"btn-el scroll-btn\"title=\"scroll\">&nbsp;&nbsp;⭿&nbsp;&nbsp;</div>\r\n\t\t\t\t\t<div class=\"btn-el copy-btn\"  title=\"copy\"  >&nbsp;&nbsp;⧉&nbsp;&nbsp;</div>\r\n\t\t\t\t\t<div class=\"btn-el close-btn\" title=\"close\" >&nbsp;&nbsp;✖&nbsp;&nbsp;</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"float-cleaner\"></div>\r\n\t\t\t</div>\r\n\t\t`).children[0];\r\n\r\n\t\trow.after(cWindow);\r\n\t\tcWindow.querySelectorAll(\".close-btn\").forEach((v) => {\r\n\t\t\tv.onclick = (e) => cWindow.parentElement.removeChild(cWindow);\r\n\t\t})\r\n\t\tcWindow.querySelectorAll(\".scroll-btn\").forEach((v) => {\r\n\t\t\tv.onclick = (e) => {\r\n\t\t\t\tconst el = cWindow.querySelector(\".js-hl-c-w-content\");\r\n\t\t\t\tel.dataset.maxHeigth = !el.dataset.maxHeigth || \"\"\r\n\t\t\t};\r\n\t\t})\r\n\t\tcWindow.querySelectorAll(\".copy-btn\").forEach((v) => {\r\n\t\t\tv.onclick = (e) => this.copyToClipboard(value);\r\n\t\t})\r\n\t\tvar contentEl = cWindow.querySelector(\".js-hl-c-w-content\");\r\n\t\tif (highlight)\r\n\t\t\t(new JsHter()).highlight(contentEl, value);\r\n\t\t\t// contentEl.innerHTML = jsot.getHighlightedCode(value);\r\n\t\telse \r\n\t\t\tcontentEl.textContent = value;\r\n\t}\r\n\r\n\tcopyToClipboard(str) {\r\n\t\tconst tA = document.createElement(\"textarea\");\r\n\t\ttA.value = str;\r\n\t\tdocument.body.appendChild(tA);\r\n\t\ttA.select();\r\n\t\tdocument.execCommand(\"copy\");\r\n\t\tdocument.body.removeChild(tA);\r\n\t}\r\n\t\r\n}\r\n","import util       from \"./util.js\";\r\n\r\nexport default class HeaderCode {\r\n\tconstructor (m) {\r\n\t\tvar _ = this._getContext(m)\r\n\t\tthis.code = \r\n\t\t\t`<span class=\"header\" `+\r\n\t\t\t\t`data-detect-way=\"${m.dtectWay && m.dtectWay.join(\",\")}\"`+\r\n\t\t\t`>`+\r\n\t\t\t\t`<span class=\"hover-sensitive\">`+\r\n\t\t\t\t\tthis._code_foldSign(m, _)+\r\n\t\t\t\t\tthis._code_sign    (m, _)+\r\n\t\t\t\t\t`<span class=\"c-bar-slot\"></span>`+\r\n\t\t\t\t\tthis._code_nameWr  (m, _)+\r\n\t\t\t\t`</span>`+\r\n\t\t\t\tthis._code_nVDelim (m, _)+\r\n\t\t\t\tthis._code_value   (m, _)+\r\n\t\t\t\t\" \"+\r\n\t\t\t\tthis._code_comment (m, _)+\r\n\t\t\t`</span>`;\r\n\t}\r\n\r\n\t_code_foldSign (m, _) {\r\n\t\treturn `<span class=\"fold-sign \" \r\n\t\t\t\t\tdata-fold-state=\"${m.dtectWay && m.dtectWay.join(\",\")}\"></span>`;\r\n\t}\r\n\r\n\t_code_sign (m, _) {\r\n\t\treturn `<span class=\"sign\" \r\n\t\t\t\t\ttitle=\"${_.signTitle}\">${this._getSign(m)}</span>`;\r\n\t}\r\n\t_code_nameWr (m, _) {\r\n\t\treturn `<span class=\"name-wr\" \r\n\t\t\tdata-g-s-call=\"${m.isGSCall}\">`+\r\n\t\t\t_.getSet+\r\n\t\t\t`<span \r\n\t\t\t\tclass=\"name ${m.nameType}-name ${_.individualDetectedProto_str}\">`+\r\n\t\t\t\t_.nameStr+\r\n\t\t\t`</span>`+\r\n\t\t`</span>`;\r\n\t}\r\n\t_code_nVDelim (m, _) {\r\n\t\treturn ` <span class=\"n-v-delim\"> ${_.cevwStr} ${_.esfStr} </span> `;\r\n\t}\r\n\t_code_value (m, _) {\r\n\t\treturn `<span class=\"value tof-${m.tof} ${_.isNull}\"\r\n\t\t\t\t\ttitle=\"${m.tof}\">${_.valueStr}</span>`;\r\n\t}\r\n\r\n\t_code_comment (m, _) {\r\n\t\treturn ((m.comment)? `<span class=\"comment\">${m.comment}</span>` : \"\");\r\n\t}\r\n\r\n\t_getContext (m) {\r\n\t\tvar _ = {\r\n\t\t\tindividualDetectedProto_str : (m.individualDetectedProto)?\r\n\t\t\t\t\"individualDetectedProto\" : \"\",\r\n\t\t\tgetSet    : \"\",\r\n\t\t\tcevwStr   : \"\", \r\n\t\t\tesfStr    : \"\", \r\n\t\t\tisNull    : (m.v === null)? \"is-null\" : \"\",\r\n\t\t\tfoldState : (m.ch && m.ch.length)? \"unfolded\" : \"not-folded\",\r\n\t\t\tsignTitle : m.pathname+\"\\n\\ntypeof : \"+m.tof,\r\n\t\t\tnameStr   : (typeof m.name == \"symbol\")? \r\n\t\t\t\t\"\"+util.getSymbolToHtmlStr(m.name)+\"\" : m.name,\r\n\t\t\tvalueStr  : \r\n\t\t\t\t(m.sp_v)                 ? m.sp_v : \r\n\t\t\t\t(typeof m.v == \"symbol\") ? \"\"+util.getSymbolToHtmlStr(m.v)+\"\" : \r\n\t\t\t\t(typeof m.v == \"string\") ? \"\"+util.toOneSting(m.v)+\"\" : \r\n\t\t\t\t\t                       m.v,\r\n\t\t}\r\n\r\n\t\tif (m.detectWay)\r\n\t\t\t_.signTitle += \"\\ndetectWay : \"+m.detectWay.toString();\r\n\t\tif (m.detectValueWay)\r\n\t\t\t_.signTitle += \"\\ndetectValueWay : \"+m.detectValueWay;\r\n\t\tif (m.ch)\r\n\t\t\tif (m.ch.length || m.ch.length === 0)\r\n\t\t\t\t_.signTitle += \"\\nchildren : \"+m.ch.length;\r\n\t\tif (m.errors)\r\n\t\t\tif (m.errors.length) \r\n\t\t\t\t_.signTitle += \"\\nerrors : \"+m.errors.map((v) => v.name).join(\", \");\r\n\r\n\r\n\t\tif (m.descriptor) {\r\n\t\t\tlet d = m.descriptor;\r\n\t\t\tif (d.g || d.s) {\r\n\t\t\t\tif (m.isGetter) {\r\n\t\t\t\t\t_.getSet += \" get\";\r\n\t\t\t\t} else if (m.isSetter) {\r\n\t\t\t\t\t_.getSet += \" set\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\tif (d.g)\r\n\t\t\t\t\t\tarr.push(`<span class=\"get\" title=\"get\">G</span>`);\r\n\t\t\t\t\tif (d.s)\r\n\t\t\t\t\t\tarr.push(`<span class=\"set\">S</span>`);\r\n\t\t\t\t\t_.getSet += `<span class=\"get-set\" title=\"set\">${arr.join(\"\")}</span>`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_.cevwStr += `<span class=\"cevw\">`;\r\n\r\n\t\t\tif (\"c\" in d)\r\n\t\t\t\t_.cevwStr += `<span \r\n\t\t\t\t\tclass=\"descr-property configurable ${(!!d.c).toString()}\"\r\n\t\t\t\t\ttitle=\"configurable\"\r\n\t\t\t\t\t>c</span>`;\r\n\t\t\t\telse \r\n\t\t\t\t\t_.cevwStr += \"-\";\r\n\r\n\t\t\tif (\"e\" in d)\r\n\t\t\t\t_.cevwStr += `<span \r\n\t\t\t\t\tclass=\"descr-property enumerable ${(!!d.e).toString()}\"\r\n\t\t\t\t\ttitle=\"enumerable\"\r\n\t\t\t\t\t>e</span>`;\r\n\t\t\t\telse \r\n\t\t\t\t\t_.cevwStr += \"-\";\r\n\r\n\t\t\tif (\"v\" in d)\r\n\t\t\t\t_.cevwStr += `<span \r\n\t\t\t\t\tclass=\"descr-property value ${(!!d.v).toString()}\"\r\n\t\t\t\t\ttitle=\"value\"\r\n\t\t\t\t\t>v</span>`;\r\n\t\t\t\telse \r\n\t\t\t\t\t_.cevwStr += \"-\";\r\n\r\n\t\t\tif (\"w\" in d)\r\n\t\t\t\t_.cevwStr += `<span \r\n\t\t\t\t\tclass=\"descr-property writable ${(!!d.w).toString()}\"\r\n\t\t\t\t\ttitle=\"writable\"\r\n\t\t\t\t\t>w</span>`;\r\n\t\t\t\telse \r\n\t\t\t\t\t_.cevwStr += \"-\";\r\n\r\n\t\t\t_.cevwStr += `</span>`;\r\n\t\t} else \r\n\t\t\t_.cevwStr = \"    \";\r\n\t\t\t// _.cevwStr = \"────\";\r\n\r\n\r\n\t\tif (m.esf) {\r\n\t\t\tlet esf = m.esf;\r\n\t\t\t_.esfStr += `<span class=\"esf\">`\r\n\t\t\tif (\"e\" in esf)\r\n\t\t\t\t_.esfStr += `<span \r\n\t\t\t\t\tclass=\"object-option extensible ${(!!esf.e).toString()}\"\r\n\t\t\t\t\ttitle=\"Extensible object\"\r\n\t\t\t\t\t>E</span>`;\r\n\t\t\telse \r\n\t\t\t\t_.esfStr += \"-\";\r\n\r\n\t\t\tif (\"s\" in esf)\r\n\t\t\t\t_.esfStr += `<span \r\n\t\t\t\t\tclass=\"object-option sealed ${(!!esf.f).toString()}\"\r\n\t\t\t\t\ttitle=\"Sealed object\"\r\n\t\t\t\t\t>S</span>`;\r\n\t\t\telse \r\n\t\t\t\t_.esfStr += \"-\";\r\n\r\n\t\t\tif (\"f\" in esf)\r\n\t\t\t\t_.esfStr += `<span \r\n\t\t\t\t\tclass=\"object-option frozen ${(!!esf.s).toString()}\"\r\n\t\t\t\t\ttitle=\"Frozen object\"\r\n\t\t\t\t\t>F</span>`;\r\n\t\t\telse \r\n\t\t\t\t_.esfStr += \"-\";\r\n\r\n\t\t\t_.esfStr += \"</span>\"\r\n\t\t}\r\n\r\n\t\treturn _;\r\n\t}\r\n\r\n\t_getSign (m) {\r\n\r\n\t\tvar d = {\r\n\t\t\tsim :         \"───\"         ,\r\n\t\t\tsip :         \"─┬─\"         ,\r\n\t\t\tund :         \"───\"         ,\r\n\t\t\tsym : \"<b>\" + \"@@-\" + \"</b>\",\r\n\t\t\tfg  : \"<b>\" + \"g()\" + \"</b>\",\r\n\t\t\taf  : \"<b>\" + \"a()\" + \"</b>\",\r\n\t\t\tf   : \"<b>\" + \"ƒ()\" + \"</b>\",\r\n\t\t\tiob : \"<b>\" + \"[i]\" + \"</b>\",\r\n\t\t\tnob : \"<b>\" + \"{×}\" + \"</b>\",\r\n\t\t\tob  : \"<b>\" + \"{…}\" + \"</b>\",\r\n\t\t\terr : \"<b>\" + \"ERR\" + \"</b>\",\r\n\t\t\t_p_ :         \"─┐ \",\r\n\t\t\tcpr : \"<b>(</b>+<b>)</b>\",\r\n\t\t};\r\n\r\n\t\tif (m.individualDetectedProto) {\r\n\t\t\tif (m.ch) \r\n\t\t\t\treturn d[\"_p_\"];\r\n\t\t\telse \r\n\t\t\t\treturn d[\"cpr\"];\r\n\t\t} else if ( [\"boolean\", \"number\", \"string\"].includes(m.tof) ) {\r\n\t\t\tif (m.ch && m.ch.length)\r\n\t\t\t\treturn d[\"sip\"];\r\n\t\t\telse\r\n\t\t\t\treturn d[\"sim\"];\r\n\t\t} else if (m.tof == \"undefined\") {\r\n\t\t\treturn d[\"und\"];\r\n\t\t} else if (m.tof == \"symbol\") {\r\n\t\t\treturn d[\"sym\"];\r\n\t\t} else if (m.tof == \"function\") {\r\n\t\t\tif        (m.isGF) {\r\n\t\t\t\treturn d[\"fg\"];\r\n\t\t\t} else if (m.isAF) {\r\n\t\t\t\treturn d[\"af\"]\r\n\t\t\t} else {\r\n\t\t\t\treturn d[\"f\"];\r\n\t\t\t}\r\n\t\t} else if (m.tof == \"object\") {\r\n\t\t\tif (m.v === null) {\r\n\t\t\t\treturn d[\"nob\"];\r\n\t\t\t} else {\r\n\t\t\t\tif      (m.hasIter === true) {\r\n\t\t\t\t\treturn d[\"iob\"];\r\n\t\t\t\t} else if (m.hasIter == \"err\") {\r\n\t\t\t\t\treturn d[\"err\"];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn d[\"ob\"];\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import setStyle from \"./set-style.js\";\r\nimport SyntaxHlFk from \"./../syntax-highlight-framework/syntax-hl-fk.js\";\r\n\r\nconst version = \"1.1.3\";\r\n\r\nconst {\r\n\ttoken,\r\n\tnToken,\r\n\tspToken,\r\n\trule,\r\n\tdomain,\r\n\tseq,\r\n\talter,\r\n\tq,\r\n\tnot,\r\n\tspWrap,\r\n\terror,\r\n\tdeb,\r\n} = SyntaxHlFk.describeAPI;\r\n\r\nconst\r\n\td = {\r\n\t\tcomment : domain(\"comment\", function(pc) {\r\n\t\t\treturn alter(r.comment_line, r.comment_snippet)(pc);\r\n\t\t}),\r\n\t\tstring  : domain(\"string\" , function(pc) {\r\n\t\t\treturn r.string_single(pc) || r.string_dowble(pc) || r.string_slash(pc);\r\n\t\t}),\r\n\t\tre      : domain(\"re\"     , function(pc) {\r\n\t\t\treturn token(/\\/(\\\\\\/|[^\\/\\n])+\\/[migy]{0,4}/y)(pc);\r\n\t\t}),\r\n\t\tslashed : domain(\"slashed\", function(pc) {\r\n\t\t\treturn token(/\\\\[\\\\ntbu'\"`]/y)(pc);\r\n\t\t}),\r\n\t\tkeyword : domain(\"keyword\", function(pc) {\r\n\t\t\treturn token(/\\bvar\\b|\\blet\\b|\\bconst\\b|\\bclass\\b|\\bextends\\b|\\btypeof\\b|\\binstanceof\\b|\\bnew\\b|\\breturn\\b|\\bif\\b|\\belse\\b|\\bfor\\b|\\bin\\b|\\bof\\b|\\bwhile\\b|\\bbreak\\b|\\bdo\\b|\\bcontinue\\b|\\bswitch\\b|\\bcase\\b|\\bthrow\\b|\\byield\\b|\\bimport\\b|\\bexport\\b|\\bdefault\\b|\\bfrom\\b|\\bas\\b/y)(pc);\r\n\t\t}),\r\n\t\tstring_tag      : domain(\"string_tag\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"${\"),\r\n\t\t\t\tr.main_inner.q(\"*\"),\r\n\t\t\t\ttoken(\"}\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tword          : domain(\"word\", function(pc) {\r\n\t\t\treturn token(/\\b[a-zA-Z_$][0-9a-zA-Z_$]*\\b/y)(pc);\r\n\t\t}),\r\n\t\toperator        : domain(\"operator\", function(pc) {\r\n\t\t\treturn token(/\\?\\.|\\?|=>|!|%|&&|&|\\*|-|\\+|=|\\|\\||\\||<|>/y)(pc);\r\n\t\t}),\r\n\t\tpunctuation     : domain(\"punctuation\", function(pc) {\r\n\t\t\treturn token(/\\.|,|:|;/y)(pc);\r\n\t\t}),\r\n\t\tnumber          : domain(\"number\", function(pc) {\r\n\t\t\treturn token(/\\b\\d+\\.|\\.\\d+\\b|\\b\\d+\\.?\\d*\\b/y)(pc);\r\n\t\t}),\r\n\t\tbool            : domain(\"bool\", function(pc) {\r\n\t\t\treturn token(/\\btrue\\b|\\bfalse\\b/y)(pc);\r\n\t\t}),\r\n\t\tsp_const        : domain(\"sp_const\", function(pc) {\r\n\t\t\treturn token(/\\bundefined\\b|\\bnull\\b|\\bInfinity\\b/y)(pc);\r\n\t\t}),\r\n\t\tparen           : domain(\"paren\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"(\"),\r\n\t\t\t\tr.main_inner.q(\"*\"),\r\n\t\t\t\ttoken(\")\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tcurly           : domain(\"curly\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"{\"),\r\n\t\t\t\tr.main_inner.q(\"*\"),\r\n\t\t\t\ttoken(\"}\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tbracket         : domain(\"bracket\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"[\"),\r\n\t\t\t\tr.main_inner.q(\"*\"),\r\n\t\t\t\ttoken(\"]\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tf_sign          : domain(\"f_sign\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\tspWrap(d.word.as(\"f_name\")),\r\n\t\t\t\tspWrap(d.paren),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tf_decl          : domain(\"f_decl\", function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\tspWrap(token(/\\basync\\b/y).in(\"keyword\").q(\"*\")),\r\n\t\t\t\tspWrap(token(/\\bfunction\\b/y).in(\"keyword\")),\r\n\t\t\t\tspWrap(token(\"*\").in(\"keyword\").q(\"*\")),\r\n\t\t\t\tspWrap(d.word.as(\"f_name\")),\r\n\t\t\t\tspWrap(d.paren),\r\n\t\t\t\tspWrap(d.curly),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t},\r\n\tr = {\r\n\t\tmain            : rule(function(pc) {\r\n\t\t\treturn q( \r\n\t\t\t\talter(r.main_inner, r.simple), \r\n\t\t\t\"*\" )(pc);\r\n\t\t}),\r\n\t\tmain_inner       : rule(function(pc) {\r\n\t\t\treturn alter(\r\n\t\t\t\tr.space,\r\n\t\t\t\td.keyword,\r\n\t\t\t\td.operator,\r\n\t\t\t\td.f_decl,\r\n\t\t\t\td.f_sign,\r\n\t\t\t\td.bool,\r\n\t\t\t\td.sp_const,\r\n\t\t\t\td.word,\r\n\t\t\t\td.paren,\r\n\t\t\t\td.curly,\r\n\t\t\t\td.bracket,\r\n\t\t\t\td.number,\r\n\t\t\t\td.punctuation,\r\n\t\t\t\td.comment,\r\n\t\t\t\td.string,\r\n\t\t\t\td.re,\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tspace           : rule(function(pc) {\r\n\t\t\treturn token(/\\s+/y)(pc);\r\n\t\t}),\r\n\t\tsimple          : rule(function(pc) {\r\n\t\t\treturn token(/./y)(pc);\r\n\t\t}),\r\n\t\tcomment_line    : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"//\"),\r\n\t\t\t\tnToken(\"\\n\").q(\"*\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tcomment_snippet : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"/*\"),\r\n\t\t\t\tnToken(\"*/\").q(\"*\"),\r\n\t\t\t\ttoken(\"*/\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tstring_single   : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"'\"),\r\n\t\t\t\talter(d.slashed, nToken(\"'\")).q(\"*\"),\r\n\t\t\t\ttoken(\"'\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tstring_dowble   : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken('\"'),\r\n\t\t\t\talter(d.slashed, nToken('\"')).q(\"*\"),\r\n\t\t\t\ttoken('\"'),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tstring_slash    : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken(\"`\"),\r\n\t\t\t\talter(d.slashed, d.string_tag, nToken(\"`\")).q(\"*\"),\r\n\t\t\t\ttoken(\"`\"),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t};\r\n\r\nexport default class JsHlter extends SyntaxHlFk.Highlighter {\r\n\tconstructor (clPref=\"jsot-js-hl\") {\r\n\t\tsuper(r.main, clPref);\r\n\t\tsetStyle(clPref);\r\n\t}\r\n\r\n\tget version () { return version; }\r\n\r\n\tgetHighlighted (\r\n\t\ttempl, firstLineNum=1, cssClasses=\"calm-clarified-theme\") {\r\n\t\treturn super.getHighlighted(templ, firstLineNum, cssClasses);\r\n\t}\r\n}\r\n","export default function setStyle(clPref) {\r\n\r\n\tconst cssCode = `\r\n\t\t.jsot-js-hl.calm-clarified-theme .jsot-js-hl__line .jsot-js-hl__line-number {\r\n\t\t  background-color: #444; }\r\n\r\n\t\t.jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text {\r\n\t\t  color: #eee; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .string_v {\r\n\t\t    color: #ddc; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .string_n {\r\n\t\t    color: #78a; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text ._null {\r\n\t\t    color: #98f; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .error {\r\n\t\t    color: #fff;\r\n\t\t    background-color: #e48;\r\n\t\t    box-shadow: inset 0 0 2px #fff; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .f_name {\r\n\t\t    color: #eee;\r\n\t\t    font-weight: bold; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .comment {\r\n\t\t    color: #777; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .string {\r\n\t\t    color: #b98; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .re {\r\n\t\t    color: #78a; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .slashed {\r\n\t\t    color: #fb6; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .number {\r\n\t\t    color: #fb6; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .bool {\r\n\t\t    color: #fb6; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .sp_const {\r\n\t\t    color: #fb6; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .keyword {\r\n\t\t    color: #78a; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .operator {\r\n\t\t    color: #78a; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .punctuation {\r\n\t\t    color: #eee; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .paren {\r\n\t\t    color: #ddc; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .curly {\r\n\t\t    color: #ddc; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .bracket {\r\n\t\t    color: #ddc; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .word {\r\n\t\t    color: #ddc; }\r\n\t\t  .jsot-js-hl.calm-clarified-theme .jsot-js-hl__line-text .string_tag {\r\n\t\t    color: #ddc; }\r\n\r\n\t`.replaceAll(/jsot-js-hl/g, clPref);\r\n\r\n\tconst styleClassName = `${clPref}__theme-style`;\r\n\r\n\tconst styleAlreadyExists = [].some.call(\r\n\t\tdocument.querySelectorAll(`style.${styleClassName}`), \r\n\t\t(v) => v.textContent === cssCode\r\n\t);\r\n\r\n\tif (! styleAlreadyExists) {\r\n\t\tconst style = eHTML(`<style class=\"${styleClassName}\"></style>`);\r\n\t\tstyle.textContent = cssCode;\r\n\t\tdocument.head.appendChild(style);\r\n\t}\r\n}\r\n\r\n\r\nfunction eHTML(code, shell=null) {\r\n\tconst _shell = \r\n\t\t! shell                  ? document.createElement(\"div\") :\r\n\t\ttypeof shell == \"string\" ? document.createElement(shell) :\r\n\t\ttypeof shell == \"object\" ? shell :\r\n\t\t\tnull;\r\n\t_shell.innerHTML = code;\r\n\treturn _shell.children[0];\r\n}","/*\r\n*\r\n* \r\n* nip     - name in parent\r\n* sym_nip - symbol name in parent\r\n*\r\n* v       - value\r\n* sym_v   - symbol value\r\n* sp_v    - special value\r\n*\r\n* iter    - number of iteration\r\n* sign    - \r\n* \r\n* \r\n */\r\n\r\nimport util              from \"./util.js\";\r\nimport parseTree         from \"./parse-tree.js\";\r\nimport renderTree        from \"./render-tree.js\";\r\nimport Explorer          from \"./Explorer.js\";\r\nimport NodeJsServerAgent from \"./NodeJsServerAgent/NodeJsServerAgent.js\";\r\nimport JsonErrHter       from \"./JsonErrHter/JsonErrHter.js\";\r\nimport JsHter            from \"./JsHter/JsHter.js\";\r\n\r\nconst version = \"2.0.0\";\r\n\r\nconst API = {\r\n\tversion,\r\n\tExplorer,                       // (inputEl, options)\r\n\tNodeJsServerAgent,              // (options)\r\n\tServerAgent: NodeJsServerAgent, // (options)\r\n\trenderTextContent,              // (inputEl)\r\n\trenderJSON,                     // (inputEl, json)\r\n\trenderObject,                   // (inputEl, templ)\r\n\tspecial: {\r\n\t\tutil,\r\n\t\tparseTree,                  // (ob, name, oT={}, deep=0)\r\n\t\trenderTree,                 // (inputEl, templ, cBar=null)\r\n\t\t// JsHl,                       // (contentEl, value)\r\n\t\t// JsonHl,                     // (contentEl, value)\r\n\t\t\"@@\"             : util[\"@@\"],\r\n\t\t\"symbolStatProps\": util[\"symbolStatProps\"],\r\n\t}\r\n};\r\n\r\nexport default API;\r\n\r\ntry {\r\n\twindow.jsot = API;\r\n} catch(err) {} \r\n\r\ntry {\r\n\tmodule.exports = API;\r\n} catch(err) {} \r\n\r\nlet jsonHter = null;\r\n\r\nfunction renderTextContent(inputEl) {\r\n\tconst json = inputEl.textContent;\r\n\treturn renderJSON(inputEl, json)\r\n}\r\n\r\nfunction renderJSON(inputEl, json) {\r\n\tconst {templ, jsonError, codeField, hter} = _evalJson(json);\r\n\tif (templ)\r\n\t\treturn renderTree(inputEl, templ);\r\n\telse {\r\n\t\tinputEl.innerHTML = \"\";\r\n\t\tinputEl.prepend(codeField);\r\n\t\tjsonHter.scrollToFirstError(codeField)\r\n\t\tconsole.error(`(!) `, jsonError);\r\n\t}\r\n}\r\n\r\nfunction renderObject(inputEl, templ) {\r\n\treturn renderTree(inputEl, templ);\r\n}\r\n\r\nfunction _evalJson(json) {\r\n\ttry {\r\n\t\treturn {templ: JSON.parse(json)};\r\n\t} catch (jsonError) {\r\n\t\tjsonHter = new JsonErrHter();\r\n\t\treturn {\r\n\t\t\tjsonError,\r\n\t\t\tcodeField: jsonHter.getHighlighted(json),\r\n\t\t};\r\n\t}\r\n}","import setStyle from \"./set-style.js\";\r\nimport SyntaxHlFk from \"./../syntax-highlight-framework/syntax-hl-fk.js\";\r\n\r\nconst version = \"1.1.3\";\r\n\r\nconst {\r\n\ttoken,\r\n\tnToken,\r\n\tspToken,\r\n\trule,\r\n\tdomain,\r\n\tseq,\r\n\talter,\r\n\tq,\r\n\tnot,\r\n\tspWrap,\r\n\terror,\r\n\tdeb,\r\n} = SyntaxHlFk.describeAPI;\r\n\r\nconst\r\n\t__main_ = rule(function(pc) {\r\n\t\treturn seq(\r\n\t\t\tspWrap(r.subject.catch(\"Main. Expected subject.\")),\r\n\t\t\terror(\"Main. Unexpected symbol after end of code.\").q(\"*\")\r\n\t\t)(pc);\r\n\t}),\r\n\tlist = rule(function(pc) {\r\n\t\treturn token(\"[\").in(\"list__open\")\r\n\t\t\t.break(\r\n\t\t\t\tseq(\r\n\t\t\t\t\tspWrap(r.subject.q(\"*/\", spWrap(token(\",\").in(\"list__coma\")))),\r\n\t\t\t\t\ttoken(\"]\").in(\"list__close\")\r\n\t\t\t\t\t\t.catch(\"List. Expected closing bracket ' ] '.\"),\r\n\t\t\t\t)\r\n\t\t\t).msg(\"List.\")(pc);\r\n\t\t\t\r\n\t}),\r\n\tdict = rule(function(pc) {\r\n\t\treturn spToken(\"{\")\r\n\t\t\t.break(\r\n\t\t\t\talter(\r\n\t\t\t\t\tspToken(\"}\"),\r\n\t\t\t\t\tseq(\r\n\t\t\t\t\t\tseq(\r\n\t\t\t\t\t\t\td.string_n.catch(\"Dict. Expected string name of field.\"),\r\n\t\t\t\t\t\t\tspToken(\":\").catch(\"Dict. Expected colon ' : '.\"),\r\n\t\t\t\t\t\t\tr.subject.catch(\"Dict. Expected subject - (null | boll | number | string | list | dict).\")\r\n\t\t\t\t\t\t).q(\"*/\", spToken(\",\")),\r\n\t\t\t\t\t\tspToken(\"}\").catch(\"Dict. Expected closing curly ' } ' or coma ' , '.\"),\r\n\t\t\t\t\t),\r\n\t\t\t\t)\r\n\t\t\t).msg(\"Dict.\")(pc);\r\n\t}),\r\n\td = {\r\n\t\tstring_v : domain(\"string_v\" , function(pc) {\r\n\t\t\treturn r.string(pc);\r\n\t\t}),\r\n\t\tstring_n : domain(\"string_n\" , function(pc) {\r\n\t\t\treturn r.string(pc);\r\n\t\t}),\r\n\t\tslashed : domain(\"slashed\", function(pc) {\r\n\t\t\treturn token(/\\\\[\\\\ntbu'\"`]/y)(pc);\r\n\t\t}),\r\n\t\tnumber          : domain(\"number\", function(pc) {\r\n\t\t\treturn token(/\\b\\d+\\.|\\.\\d+\\b|\\b\\d+\\.?\\d*\\b/y)(pc);\r\n\t\t}),\r\n\t\tbool            : domain(\"bool\", function(pc) {\r\n\t\t\treturn token(/\\btrue\\b|\\bfalse\\b/y)(pc);\r\n\t\t}),\r\n\t\t_null           : domain(\"_null\", function(pc) {\r\n\t\t\treturn token(/\\bnull\\b/y)(pc);\r\n\t\t}),\r\n\t},\r\n\tr = {\r\n\t\tsubject         : rule(function(pc) {\r\n\t\t\treturn alter(\r\n\t\t\t\td._null,\r\n\t\t\t\td.bool,\r\n\t\t\t\td.number,\r\n\t\t\t\td.string_v,\r\n\t\t\t\tlist,\r\n\t\t\t\tdict\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tstring        : rule(function(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\ttoken('\"'),\r\n\t\t\t\tq(alter(d.slashed, nToken('\"')), \"*\"),\r\n\t\t\t\ttoken('\"'),\r\n\t\t\t)(pc);\r\n\t\t}),\r\n\t\tspace           : rule(function(pc) {\r\n\t\t\treturn token(/\\s+/y)(pc);\r\n\t\t}),\r\n\t};\r\n\r\nexport default class JsonErrHlter extends SyntaxHlFk.Highlighter {\r\n\tconstructor (clPref=\"json-err-hl\") {\r\n\t\tsuper(__main_, clPref);\r\n\t\tsetStyle(clPref);\r\n\t}\r\n\r\n\tget version () { return version; }\r\n\r\n\tgetHighlighted (\r\n\t\ttempl, firstLineNum=1, cssClasses=\"calm-clarified-theme\") {\r\n\t\treturn super.getHighlighted(templ, firstLineNum, cssClasses);\r\n\t}\r\n}\r\n","export default function setStyle(clPref) {\r\n\r\n\tconst cssCode = `\r\n\t.json-err-hl.calm-theme {\r\n\t  background-color: #222; }\r\n\t  .json-err-hl.calm-theme .json-err-hl__line-text {\r\n\t    color: #eee; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .string {\r\n\t      color: #ddc; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .string_v {\r\n\t      color: #ddc; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .string_n {\r\n\t      color: #78a; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .slashed {\r\n\t      color: #f90; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .number {\r\n\t      color: #f90; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text .bool {\r\n\t      color: #f90; }\r\n\t    .json-err-hl.calm-theme .json-err-hl__line-text ._null {\r\n\t      color: #98f; }\r\n\r\n\t.json-err-hl.calm-clarified-theme .json-err-hl__line .json-err-hl__line-number {\r\n\t  background-color: #444; }\r\n\r\n\t.json-err-hl.calm-clarified-theme .json-err-hl__line-text {\r\n\t  color: #eee; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .string {\r\n\t    color: #ddc; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .string_v {\r\n\t    color: #ddc; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .string_n {\r\n\t    color: #78a; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .bool {\r\n\t    color: #fb6; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .number {\r\n\t    color: #fb6; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text .slashed {\r\n\t    color: #fb6; }\r\n\t  .json-err-hl.calm-clarified-theme .json-err-hl__line-text ._null {\r\n\t    color: #98f; }\r\n\r\n\t.json-err-hl.monokai-theme {\r\n\t  background-color: #333; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .string_n {\r\n\t    color: #3bd; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .string {\r\n\t    color: #da5; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .string_v {\r\n\t    color: #da5; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .slashed {\r\n\t    color: #98f; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .number {\r\n\t    color: #98f; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text .bool {\r\n\t    color: #98f; }\r\n\t  .json-err-hl.monokai-theme .json-err-hl__line-text ._null {\r\n\t    color: #e48; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .string_n {\r\n\t  color: #3bd; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .string {\r\n\t  color: #da5; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .string_v {\r\n\t  color: #da5; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .slashed {\r\n\t  color: #98f; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .number {\r\n\t  color: #98f; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text .bool {\r\n\t  color: #98f; }\r\n\r\n\t.json-err-hl.monokai-clarified-theme .json-err-hl__line-text ._null {\r\n\t  color: #e48; }\r\n\r\n\t `.replaceAll(/json-err-hl/g, clPref);\r\n\r\n\tconst styleClassName = `${clPref}__theme-style`;\r\n\r\n\tconst styleAlreadyExists = [].some.call(\r\n\t\tdocument.querySelectorAll(`style.${styleClassName}`), \r\n\t\t(v) => v.textContent === cssCode\r\n\t);\r\n\r\n\tif (! styleAlreadyExists) {\r\n\t\tconst style = eHTML(`<style class=\"${styleClassName}\"></style>`);\r\n\t\tstyle.textContent = cssCode;\r\n\t\tdocument.head.appendChild(style);\r\n\t}\r\n}\r\n\r\n\r\nfunction eHTML(code, shell=null) {\r\n\tconst _shell = \r\n\t\t! shell                  ? document.createElement(\"div\") :\r\n\t\ttypeof shell == \"string\" ? document.createElement(shell) :\r\n\t\ttypeof shell == \"object\" ? shell :\r\n\t\t\tnull;\r\n\t_shell.innerHTML = code;\r\n\treturn _shell.children[0];\r\n}","import util from \"./../util.js\";\r\nimport parseTree from \"./../parse-tree.js\";\r\n\r\nexport default class ServerAgent {\r\n\tconstructor(_ = {}) {\r\n\t\t_.name = _.name || \"rootNode\";\r\n\t\t_.ob = _.ob || global;\r\n\t\t_.t = _.t || {};\r\n\t\t_.portHost = _.portHost || [];\r\n\t\t_.portHost[0] = _.portHost[0] || 3333;\r\n\t\t// _.portHost[1] = _.portHost[1] || \"127.0.0.1\";\r\n\t\t_.portHost[1] = _.portHost[1] || \"localhost\";\r\n\r\n\t\tPromise.all([\r\n\t\t\timport(\"http\"),\r\n\t\t\timport(\"fs\"),\r\n\t\t\timport(\"path\"),\r\n\t\t\timport(\"url\"),\r\n\t\t]).then(([http$, fs$, path$, url$]) => {\r\n\t\t\tconst __filename = url$.fileURLToPath(import.meta.url),\r\n\t\t\t\t__dirname = path$.dirname(__filename),\r\n\t\t\t\tserverRoot = path$.resolve(__dirname, \"../\");\r\n\r\n\t\t\tconsole.log(`__dirname`, __dirname);\r\n\t\t\tvar server = new http$.Server(function (req, res) {\r\n\t\t\t\t// console.log(\"\\n↑ GO\");\r\n\r\n\t\t\t\treq.on(\"error\", (err) => console.error(err));\r\n\t\t\t\tres.on(\"error\", (err) => console.error(err));\r\n\r\n\t\t\t\tconst [reqPath, reqQuery] = req.url.split(\"?\"),\r\n\t\t\t\t\tmimeType = getMIME(reqPath);\r\n\r\n\t\t\t\tres.setHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n\t\t\t\tif (req.url == \"/parse\") {\r\n\t\t\t\t\tres.setHeader(\"Content-Type\", 'text/plain; Charset=\"UTF-8\"');\r\n\t\t\t\t\tres.setHeader(\"Cash-Control\", \"no-store\");\r\n\r\n\t\t\t\t\tvar reqBody = \"\";\r\n\t\t\t\t\treq.on(\"data\", (dataBuf) => (reqBody += dataBuf.toString()));\r\n\r\n\t\t\t\t\treq.on(\"end\", (e) => {\r\n\t\t\t\t\t\t// console.log(`reqBody.length`, reqBody.length);\r\n\t\t\t\t\t\tvar dataArr = reqBody.split(\"&\");\r\n\t\t\t\t\t\tvar dataDict = dataArr.reduce((acc, v) => {\r\n\t\t\t\t\t\t\tif (!v) return acc;\r\n\r\n\t\t\t\t\t\t\tvar k_v = v.split(\"=\");\r\n\t\t\t\t\t\t\tacc[k_v[0]] = decodeURIComponent(k_v[1]);\r\n\r\n\t\t\t\t\t\t\treturn acc;\r\n\t\t\t\t\t\t}, {});\r\n\t\t\t\t\t\tvar inJson = dataDict.template;\r\n\t\t\t\t\t\t// console.log(`inJson.length`, inJson.length);\r\n\t\t\t\t\t\tvar t = inJson ? util.getFromJson(inJson) : {};\r\n\t\t\t\t\t\tvar getted = parseTree(_.ob, _.name, t);\r\n\t\t\t\t\t\tres.end(util.getJson(getted));\r\n\r\n\t\t\t\t\t\t// console.log(\"↓ OK\\n\\n\");\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (req.url == \"/\") {\r\n\t\t\t\t\tres.setHeader(\"Content-Type\", \"text/html; Charset=UTF-8\");\r\n\t\t\t\t\tres.setHeader(\"Cash-Control\", \"no-store\");\r\n\t\t\t\t\tvar theUrl = `http://${_.portHost[1]}:${_.portHost[0]}`;\r\n\t\t\t\t\tres.end(\r\n\t\t\t\t\t\tgetTemplateFile(\r\n\t\t\t\t\t\t\tpath$.resolve(__dirname, \"./agent-page.html\"),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: _.name,\r\n\t\t\t\t\t\t\t\ttheUrl,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfs$\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// console.log(\"↓ OK\\n\\n\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst filePN = serverRoot + req.url;\r\n\t\t\t\t\t// const filePN = path$.resolve(serverRoot, req.url);\r\n\t\t\t\t\t// console.log(`filePN >>`, filePN);\r\n\t\t\t\t\tif (fs$.existsSync(filePN)) {\r\n\t\t\t\t\t\tres.setHeader(\"Content-Type\", `${mimeType}; Charset=\"UTF-8\"`);\r\n\t\t\t\t\t\tres.setHeader(\"Cash-Control\", \"no-store\");\r\n\t\t\t\t\t\tres.end(fs$.readFileSync(filePN));\r\n\t\t\t\t\t\t// console.log(\"Download\", req.url);\r\n\t\t\t\t\t\t// console.log(\"↓ OK\\n\\n\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres.end(\"JsOT - 404.\");\r\n\r\n\t\t\t\t\t\t// console.log(\"↓ OK\\n\\n\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tserver.listen(..._.portHost);\r\n\t\t\t// server.listen(3000, \"127.0.0.1\");\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"JsOT\",\r\n\t\t\t\t_.name,\r\n\t\t\t\t\":\",\r\n\t\t\t\t\"http://\" + _.portHost[1] + \":\" + _.portHost[0],\r\n\t\t\t\t\"\\n\",\r\n\t\t\t\t_.ob\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t// setInterval(() => {}, 60000);\r\n\t}\r\n}\r\n\r\nfunction getTemplateFile(pathname, substituts, fs$) {\r\n\tlet text = fs$.readFileSync(pathname).toString();\r\n\treturn text.replace(/{{\\s*([\\w\\d]+)\\s*}}/g, (m, name) => substituts[name]);\r\n}\r\n\r\nconst MIME = {\r\n\t\"text/html\": [\"html\"],\r\n\t\"text/css\": [\"css\", \"scss\", \"css.map\"],\r\n\t\"application/javascript\": [\"js\", \"ejs\", \"cjs\"],\r\n};\r\n\r\nfunction getMIME(fileName) {\r\n\tconst parts = fileName.split(\".\");\r\n\tlet ext = parts.pop();\r\n\tif (ext == \"map\") ext = parts.pop() + \".\" + ext;\r\n\tfor (let i in MIME) if (MIME[i].includes(ext)) return i;\r\n\treturn \"text/plain\";\r\n}\r\n","import util       from \"./util.js\";\r\n\r\nvar pArr = [];\r\n\r\nexport default function parseTree(ob, name, oT={}, deep=0) {\r\n\tvar \r\n\t\tfindedStr,\r\n\t\tisFinded = false;\r\n\r\n\treturn recursive({ob, nip : name,}, oT, deep);\r\n\r\n\tfunction recursive(nT, oT={}, deep, cps={}) {\r\n\t\tpArr.push(nT.nip || nT.iter);\r\n\t\t// console.log(`pArr`, pArr);\r\n\r\n\t\tif (oT.settings)\r\n\t\t\tObject.assign(cps, oT.settings);\r\n\t\t// nT.settings = nT.settings || {};\r\n\t\tObject.assign(nT.settings = {}, oT.settings);\r\n\t\t\r\n\t\tif (oT.valueToString) {\r\n\t\t\tisFinded = true;\r\n\t\t\treturn findedStr = util.getToString(nT.ob);\r\n\t\t}\r\n\r\n\t\tvar \r\n\t\t\tchList, \r\n\t\t\tcomment,\r\n\t\t\tesf = nT.esf = {};\r\n\r\n\t\tnT.tof = typeof nT.ob;\r\n\r\n\t\tesf.e = Object.isExtensible(nT.ob);\r\n\t\tesf.s = Object.isFrozen(nT.ob);\r\n\t\tesf.f = Object.isSealed(nT.ob);\r\n\r\n\t\tif (comment = oT.comment || oT.comm)\r\n\t\t\tnT.comm = comment;\r\n\r\n\t\tif (nT.tof == \"object\") {\r\n\t\t\tif (nT.ob) {\r\n\t\t\t\tvar hasIterator;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tnT.hasIter = !!nT.ob[Symbol.iterator];\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tnT.hasIter = \"err\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (nT.tof == \"function\") {\r\n\t\t\tif (nT.ob.constructor) {\r\n\t\t\t\tif (nT.ob.constructor.name == \"GeneratorFunction\") \r\n\t\t\t\t\tnT.isGF = true;\r\n\t\t\t\tif (nT.ob.constructor.name == \"AsyncFunction\") \r\n\t\t\t\t\tnT.isAF = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toT.cBarIsMounted && (nT.cBarIsMounted = true);\r\n\r\n\t\tsetValue(nT);\r\n\r\n\t\t// if (!isSimpleType(nT.ob)) {\r\n\t\t// if (!isSimpleType(nT.ob) && (oT.ch || 0 < deep)) {\r\n\t\tif (!isNoneValue(nT.ob) && (oT.ch || 0 < deep)) {\r\n\t\t\tchList = [].concat(\r\n\t\t\t\tgetIteratedChildren(nT.ob),\r\n\t\t\t\t(nT.nip != \"__proto__\")? getProtoGettedSettedChildren(nT.ob) : [],\r\n\t\t\t\tgetEnumeratedChildren(nT.ob, nT.nip),\r\n\t\t\t);\r\n\t\t\tif (oT.ch || 0 < deep) {\r\n\t\t\t\tfor (var ch of chList) {\r\n\t\t\t\t\tlet oTCh;\r\n\t\t\t\t\tif (oT.ch && oT.ch.find) {\r\n\t\t\t\t\t\toTCh = \r\n\t\t\t\t\t\t\toT.ch.find((v) => {\r\n\t\t\t\t\t\t\t\treturn v.nip == ch.nip && \r\n\t\t\t\t\t\t\t\t\tv.nip !== undefined && \r\n\t\t\t\t\t\t\t\t\t\tv.isGetter == ch.isGetter &&\r\n\t\t\t\t\t\t\t\t\t\t\tv.isSetter == ch.isSetter;\r\n\t\t\t\t\t\t\t}) || \r\n\t\t\t\t\t\t\toT.ch.find((v) => v.iter == ch.iter && v.iter !== undefined);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toTCh = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnT.ch = nT.ch || [];\r\n\t\t\t\t\tnT.ch.push(recursive(ch, oTCh, deep - 1, Object.assign({}, cps)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\r\n\r\n\t\tdelete nT.ob;\r\n\r\n\r\n\t\tif (isFinded) \r\n\t\t\treturn findedStr;\r\n\r\n\r\n\t\tif (nT.ch) {\r\n\t\t\tif (cps[\"by_name\"])\r\n\t\t\t\tnT.ch = nT.ch.sort((_a, _b) => {\r\n\t\t\t\t\tvar a = _a.nip, b = _b.nip;\r\n\r\n\t\t\t\t\tif (typeof a != \"string\" || typeof b != \"string\")\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\telse if (\"__proto__\" == b)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if (a == \"__proto__\")\r\n\t\t\t\t\t\treturn 1;\r\n\r\n\t\t\t\t\telse if (a == b)\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\telse if (a < b)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if (a > b)\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t});\r\n\r\n\t\t\tif (cps[\"by_type\"])\r\n\t\t\t\tnT.ch = nT.ch.sort((_a, _b) => {\r\n\t\t\t\t\tvar a = _a.tof, b = _b.tof;\r\n\r\n\t\t\t\t\tif (typeof a != \"string\" || typeof b != \"string\")\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\telse if (\"__proto__\" == _b.nip)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if (_a.nip == \"__proto__\")\r\n\t\t\t\t\t\treturn 1;\r\n\r\n\t\t\t\t\telse if (a == b)\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\telse if (a < b)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if (a > b)\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\t\tpArr.pop();\r\n\t\treturn nT;\r\n\t}\r\n}\r\n\r\n\r\nfunction setValue(templ) {\r\n\tvar \r\n\t\tsTof = (templ.sOb)? (\r\n\t\t\t(templ.sOb.get && templ.sOb.set)? \"get-set\" :\r\n\t\t\t(templ.sOb.get)?            \"get\" :\r\n\t\t\t(templ.sOb.set)?            \"set\" : \r\n\t\t\t\tnull \r\n\t\t) : null,\r\n\t\tob = templ.ob, \r\n\t\ttof = typeof ob;\r\n\t\t// tof = sTof || typeof ob;\r\n\r\n\tif (templ.isGetSetProp && 0) {\r\n\t\ttempl.v = \"\";\r\n\t} else if (templ.individualDetectedProto) {\r\n\t\tif (ob) {\r\n\t\t\ttry {\r\n\t\t\t\tif (ob.hasOwnProperty(\"constructor\")) {\r\n\t\t\t\t\ttempl.v = ob.constructor.name;\r\n\t\t\t\t\ttempl.detectValueWay = \"ob.constructor.name\";\r\n\t\t\t\t} else if (ob.hasOwnProperty(\"name\")) {\r\n\t\t\t\t\ttempl.v = ob.name;\r\n\t\t\t\t\ttempl.detectValueWay = \"ob.name\";\r\n\t\t\t\t} else\r\n\t\t\t\t\ttempl.v = \"--No-name--\";\r\n\t\t\t} catch(err) {\r\n\t\t\t\ttempl.v = \"--Error--\";\r\n\t\t\t\ttempl.errors = templ.errors || [];\r\n\t\t\t\ttempl.errors.push(err);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttempl.v = ob;\r\n\t\t}\r\n\t} else if ( [\"boolean\", \"number\", \"string\", \"symbol\"].includes(tof) ) {\r\n\t\ttempl.v = ob;\r\n\t/*} else if (tof == \"symbol\") {\r\n\t\ttempl.sym_v = ob;*/\r\n\t} else if (tof == \"undefined\") {\r\n\t\ttempl.v = undefined;\r\n\t\ttempl.sp_v = \"undefined\";\r\n\t} else if (tof == \"function\") {\r\n\t\ttempl.v = ob.name;\r\n\t} else if (tof == \"object\") {\r\n\t\tif (ob) {\r\n\t\t\ttry {\r\n\t\t\t\ttempl.v = (ob.constructor)? ob.constructor.name : \"--No-constructor--\";\r\n\t\t\t} catch(err) {\r\n\t\t\t\ttempl.v = \"--Error--\";\r\n\t\t\t\ttempl.errors = templ.errors || [];\r\n\t\t\t\ttempl.errors.push(err);\r\n\t\t\t} \r\n\t\t\tif (!templ.v)\r\n\t\t\t\tif (ob[Symbol.toStringTag])\r\n\t\t\t\t\ttempl.v = ob[Symbol.toStringTag];\r\n\t\t} else\r\n\t\t\ttempl.v = ob;\r\n\t}\r\n}\r\n\r\nfunction getIteratedChildren(ob) {\r\n\t// if (isSimpleType(ob)) {\r\n\tif (isNoneValue(ob)) {\r\n\t\tconsole.error(\"(!)-USER'S \", \"'getChildren' Wrong type of 'ob'\");\r\n\t\tconsole.error(`pArr`, pArr);\r\n\t}\r\n\tvar \r\n\t\tchildren = [],\r\n\t\tsI;\r\n\r\n\ttry {\r\n\t\tsI = ob[Symbol.iterator];\r\n\t} catch(err) {}\r\n\r\n\tif (sI) {\r\n\t\tlet \r\n\t\t\titer = 0, \r\n\t\t\tpErr; \r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tfor (var value of ob) { // try!!!\r\n\t\t\t\tlet ch = {\r\n\t\t\t\t\tdetectWay : \"iter\",\r\n\t\t\t\t\titer      : \"\"+iter+\"\",\r\n\t\t\t\t\tob        : value,\r\n\t\t\t\t\tdetectWay : \"iter\",\r\n\t\t\t\t};\r\n\t\t\t\tchildren.push(ch);\r\n\t\t\t\titer ++;\r\n\t\t\t}\r\n\t\t} catch(err) {\r\n\t\t\tlet ch = {\r\n\t\t\t\titer : \"--ERROR--\",\r\n\t\t\t\terrors : [],\r\n\t\t\t\tob : err.name,\r\n\t\t\t};\r\n\t\t\tch.errors.push(err);\r\n\t\t\tchildren.push(ch);\r\n\t\t}\r\n\t}\r\n\treturn children;\r\n}\r\n\r\n\r\nfunction getAdaptedDescriptor(descriptor) {\r\n\tif (descriptor) {\r\n\t\tvar d = {};\r\n\t\tfor (var prop in descriptor) {\r\n\t\t\tif (prop == \"value\")\r\n\t\t\t\td.v = \"value\" in descriptor;\r\n\t\t\telse if (prop == \"get\") {\r\n\t\t\t\td.g = !!descriptor.get;\r\n\t\t\t\td.getter = descriptor.get;\r\n\t\t\t} else if (prop == \"set\") {\r\n\t\t\t\td.s = !!descriptor.set;\r\n\t\t\t\td.setter = descriptor.set;\r\n\t\t\t} else \r\n\t\t\t\td[prop[0]] = descriptor[prop]\r\n\t\t}\r\n\t\treturn d;\r\n\t} else \r\n\t\treturn undefined;\r\n}\r\n\r\nfunction getEnumeratedChildren(ob, obName) {\r\n\t// if (isSimpleType(ob)) {\r\n\tif (isNoneValue(ob)) {\r\n\t\tconsole.error(\"(!)-USER'S \", \"'getEnumeratedChildren' Wrong type of 'ob'\");\r\n\t\tconsole.error(`pArr`, pArr);\r\n\t}\r\n\tvar \r\n\t\tdict = Object.getOwnPropertyDescriptors(ob),\r\n\t\tlist = Object.getOwnPropertyNames(dict).concat(Object.getOwnPropertySymbols(dict)),\r\n\t\tchildren = [],\r\n\t\tproto = list.find((v) => v == \"__proto__\");\r\n\r\n\tif (proto) // To move '__proto__' to end of list.\r\n\t\tlist = list.filter((v) => v != \"__proto__\").concat([proto]);\r\n\r\n\tfor (var name of list) {\r\n\t\tlet d = getAdaptedDescriptor(dict[name]);\r\n\t\tif (d.getter || d.setter) {\r\n\r\n\t\t\tif (d.getter) {\r\n\t\t\t\tchildren.push({\r\n\t\t\t\t\tnip          : name,\r\n\t\t\t\t\t// nPref        : \"get\",\r\n\t\t\t\t\tob           : d.getter,\r\n\t\t\t\t\tdetectWay    : [\"getter\"],\r\n\t\t\t\t\tdescriptor   : d,\r\n\t\t\t\t\tisGetter     : true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (d.setter) {\r\n\t\t\t\tchildren.push({\r\n\t\t\t\t\tnip          : name,\r\n\t\t\t\t\t// nPref        : \"set\",\r\n\t\t\t\t\tob           : d.setter,\r\n\t\t\t\t\tdetectWay    : [\"setter\"],\r\n\t\t\t\t\tdescriptor   : d,\r\n\t\t\t\t\tisSetter     : true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (obName != \"__proto__\") // show geted, setted in not __proto__ only\r\n\t\t\t\tchildren.push(getGettedProperty(ob, name, !!d.getter, !!d.setter));\r\n\t\t} else {\r\n\t\t\tlet ch = {\r\n\t\t\t\tnip          : name,\r\n\t\t\t\tdetectWay    : [\"getOwnPropertyDescriptors\"],\r\n\t\t\t\tdetValWay    : [\"getOwnPropertyDescriptor.value\"], // !\r\n\t\t\t\tdescriptor   : d,\r\n\t\t\t\tob           : dict[name].value,\r\n\t\t\t}; \r\n\r\n\t\t\tchildren.push(ch);\r\n\t\t}\r\n\t}\r\n\r\n\tif (!proto) {\r\n\t\ttry {\r\n\t\t\tif (\r\n\t\t\t\t[\"boolean\", \"number\", \"string\", \"symbol\"].includes(typeof ob) \r\n\t\t\t\t\t|| \r\n\t\t\t\t\"__proto__\" in ob\r\n\t\t\t) \r\n\t\t\t\tchildren.push({\r\n\t\t\t\t\tnip          : \"__proto__\",\r\n\t\t\t\t\tdetectWay    : [\"individ\"], \r\n\t\t\t\t\tdescriptor   : getAdaptedDescriptor(\r\n\t\t\t\t\t\tObject.getOwnPropertyDescriptor(ob,\"__proto__\")),\r\n\t\t\t\t\tindividualDetectedProto : true,\r\n\t\t\t\t\tob           : Object.getPrototypeOf(ob),\r\n\t\t\t\t});\r\n\t\t} catch(err) {\r\n\t\t\tconsole.error(\"(!)-USER'S \", \"Can't detect '__proto__'.\", \"\\npArr :\", pArr);\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t}\r\n\r\n\treturn children;\r\n}\r\n\r\nfunction getGettedProperty(parent, propName, hasG, hasS) {\r\n\tvar node = {\r\n\t\tnip           : propName,\r\n\t\tdetectWay     : [\"getGettedProperty\"],\r\n\t\tdescriptor    : {\r\n\t\t\tg : hasG,\r\n\t\t\ts : hasS,\r\n\t\t},\r\n\t\tisGSCall      : true,\r\n\t}; \r\n\r\n\ttry {\r\n\t\tnode.ob = parent[propName];\r\n\t} catch(err) {\r\n\t\tnode.ob = err;\r\n\t\tnode.errors = node.errors || [];\r\n\t\tnode.errors.push(err);\r\n\t}\r\n\r\n\treturn node;\r\n}\r\n\r\nfunction getProtoGettedSettedChildren(ob) {\r\n\tvar \r\n\t\tmax = 100,\r\n\t\tproto = ob,\r\n\t\tdescr = {},\r\n\t\tchildren = [];\r\n\twhile ((proto = Object.getPrototypeOf(proto)) && max --) {\r\n\t\tlet ds = Object.getOwnPropertyDescriptors(proto);\r\n\t\tfor (var name in ds) {\r\n\t\t\tif (name != \"__proto__\")\r\n\t\t\t\tif (ds[name].get || ds[name].set) {\r\n\t\t\t\t\tdescr[name] = (descr.hasOwnProperty(name))? \r\n\t\t\t\t\t\tdescr[name] : {};\r\n\t\t\t\t\tif (ds[name].get)\r\n\t\t\t\t\t\tdescr[name].get = true;\r\n\t\t\t\t\tif (ds[name].set)\r\n\t\t\t\t\t\tdescr[name].set = true;\r\n\t\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfor (var name in descr) \r\n\t\tchildren.push(\r\n\t\t\tgetGettedProperty(ob, name, descr[name].get, descr[name].set));\r\n\r\n\treturn children;\r\n}\r\n\r\n\r\nfunction isSimpleType(v) {\r\n\treturn !v || [\"undefined\", \"boolean\", \"number\", \"string\"].includes(typeof v);\r\n}\r\n\r\nfunction isNoneValue(v) {\r\n\treturn v === undefined || v === null;\r\n}\r\n","import util       from \"./util.js\";\r\nimport HeaderCode from \"./HeaderCode.js\";\r\nimport setStyle   from \"./CSS/JsOT.scss.js\";\r\n\r\ntry {\r\n\tsetStyle(\"jsot\");\r\n\t/**\r\n\t * 1. Стили должны грузиться только в среде браузера. \r\n\t *      Использовать try-catch идеалогически не верно.\r\n\t * \r\n\t * 2. 'render-tree.js' должен подгружать только стили рендеринга. \r\n\t *      Стили каретки должен подгружать 'Explorer.js'.\r\n\t */\r\n} catch (err) {}\r\n\r\nexport default renderTree;\r\n\r\nconst debugHideCBarOFF = false;\r\n\r\nconst context = {\r\n\tinitNodeBefore,\r\n\tnewRow,\r\n\tendOfRow,\r\n\taddBranchEl,\r\n\taddHeader,\r\n\tmountCBar,\r\n\tunmountCBar,\r\n\tadd,\r\n\tgetPath,\r\n\tgetNameToPath,\r\n\tmaserMethods : {\r\n\t\tfold,\r\n\t\tunfold\r\n\t},\r\n\tinitNodeAfter,\r\n};\r\n\r\nfunction renderTree(inputEl, templ, cBar=null) {\r\n\tcontext.inputEl = inputEl;\r\n\tinputEl.innerHTML = \"\";\r\n\tcontext.cBar = cBar;\r\n\tcreateTree(templ, context);\r\n}\r\n\r\n// Context begin\r\n\r\nfunction initNodeAfter(m) {\r\n\tif (m.ch) {\r\n\t\tconst \r\n\t\t\tnameWrs = m.ch.map(v => v.header.querySelector(\".name-wr\")),\r\n\t\t\twidth = Math.max(\r\n\t\t\t\t... nameWrs.map(v => v.getBoundingClientRect().width)\r\n\t\t\t);\r\n\t\tnameWrs.forEach(v => v.style.minWidth = width+\"px\");\r\n\t}\r\n}\r\n\r\nfunction initNodeBefore(m) {\r\n\tm.comment = m.comment || m.comm || m.caption || m.capt;\r\n\tfor (var mName in this.maserMethods) \r\n\t\tm[mName] = this.maserMethods[mName];\r\n}\r\n\r\nfunction newRow(m,rI) {\r\n\tvar code = `<span class=\"row\" data-row-index=\"${rI}\"></span>`;\r\n\tvar el = this.currRow = util.eval(code).children[0];\r\n\tm.rows = m.rows || [];\r\n\trecursive(m);\r\n\tthis.inputEl.appendChild(el);\r\n\r\n\tfunction recursive(m) {\r\n\t\tm.rows.push(el);\r\n\t\tif (m.parent)\r\n\t\t\trecursive(m.parent);\r\n\t}\r\n}\r\n\r\nfunction endOfRow(m) {\r\n\tvar code = `<span class=\"endl\">\\n</span>`;\r\n\tvar el = this.add(code);\r\n\tel.m = m;\r\n}\r\n\r\nfunction addBranchEl(t, m) {\r\n\tvar types = {\r\n\t\tv : \" │ \", // vertical\r\n\t\tf : \" ├─\", // fork\r\n\t\tc : \" └─\", // corner\r\n\t\te : \"   \", // empty\r\n\t};\r\n\tvar code = `<span class=\"branch ${t}-branch\" title=\"${m.pathname}\">${types[t]}</span>`;\r\n\tvar el = this.add(code);\r\n\tel.m = m;\r\n\tel.onclick = function branchOnClick(e) {\r\n\t\tthis.m.header.scrollIntoView(true);\r\n\t}\r\n}\r\n\r\nfunction addHeader(m) {\r\n\tvar el = m.header = this.add((new HeaderCode(m)).code)\r\n\tm.cBar = this.cBar;\r\n\r\n\tel.querySelector(\".sign\").onclick = \r\n\tel.querySelector(\".fold-sign\").onclick = \r\n\t\tfunction foldClick(e) { (m.folded)? m.unfold() : m.fold(); };\r\n\r\n\tif (m.folded) \r\n\t\tsetTimeout(() => m.fold());\r\n\r\n\tif (this.cBar) {\r\n\t\tvar hoverSensitive = el.querySelector(\".hover-sensitive\");\r\n\r\n\t\tif (m.cBarIsMounted)\r\n\t\t\tthis.mountCBar(m);\r\n\r\n\t\thoverSensitive.onmouseenter = (e) => {\r\n\t\t\tel.mouseHover = true;\r\n\r\n\t\t\tif (!m.cBarIsMounted) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (!m.cBarIsMounted)\r\n\t\t\t\t\t\tif (el.mouseHover) \r\n\t\t\t\t\t\t\tthis.mountCBar(m);\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t}\r\n\t\thoverSensitive.onmouseleave = (e) => {\r\n\t\t\tel.mouseHover = false;\r\n\r\n\t\t\tif (debugHideCBarOFF)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (m.cBarIsMounted)\r\n\t\t\t\t\tif (!el.mouseHover) \r\n\t\t\t\t\t\tthis.unmountCBar(m);\r\n\t\t\t}, 200);\r\n\t\t}\r\n\t}\r\n}\r\nfunction mountCBar(m) {\r\n\tthis.unmountCBar(m);\r\n\r\n\tm.cBar.m = m;\r\n\tm.cBar.m.header.dataset.highlighted = \"true\";\r\n\r\n\tm.header.querySelector(\".c-bar-slot\").appendChild(m.cBar);\r\n\r\n\tm.cBarIsMounted = true;\r\n\tm.cBar.init(m);\r\n}\r\nfunction unmountCBar(m) {\r\n\tif (m.cBar.parentElement)\r\n\t\tm.cBar.parentElement.removeChild(m.cBar);\r\n\r\n\tif (m.cBar.m) {\r\n\t\tm.cBar.m.header.dataset.highlighted = \"\";\r\n\t\tm.cBar.m.cBarIsMounted = false;\r\n\t\tm.cBar.m = null;\r\n\t}\r\n}\r\nfunction add(code) {\r\n\tvar el = util.eval(code).children[0];\r\n\t// this.flat.push(el);\r\n\tthis.currRow.appendChild(el);\r\n\treturn el;\r\n}\r\n\r\nfunction getPath(pArr) {\r\n\tvar p = \"\";\r\n\tpArr.forEach((v,i,a) => {\r\n\t\tif (typeof v == \"number\") {\r\n\t\t\tp += \"[\"+v+\"]\";\r\n\t\t} else if (typeof v == \"string\") {\r\n\t\t\tif (v == parseInt(v)+\"\") \r\n\t\t\t\tp += \"[\"+v+\"]\";\r\n\t\t\telse\r\n\t\t\t\tp += (i)? \".\"+v : v;\r\n\t\t} else if (typeof v == \"symbol\") {\r\n\t\t\tp += \"((\"+v.description+\"))\"; \r\n\t\t} else {\r\n\t\t\tp += \"[err-of-name-render]\";\r\n\t\t}\r\n\r\n\t});\r\n\treturn p;\r\n}\r\n\r\nfunction getNameToPath(m) {\r\n\tvar name;\r\n\tif (typeof m.nip == \"symbol\") {\r\n\t\tname = m.nip;\r\n\t\tm.nameType = \"symbol\";\r\n\t} else if (\"nip\" in m) {\r\n\t\tname = m.nip;\r\n\t\tm.nameType = \"nip\";\r\n\t} else {\r\n\t\tname = m.iter;\r\n\t\tm.nameType = \"iter\";\r\n\t} \r\n\tm.name = name;\r\n\treturn name;\r\n}\r\n\r\nfunction fold() {\r\n\tthis.rows.forEach((v,i) => i && (v.style.display = \"none\"));\r\n\tvar foldSignEl = this.header.querySelector(\".fold-sign\");\r\n\tfoldSignEl.dataset.foldState = \"folded\";\r\n\tthis.folded = true;\r\n}\r\n\r\nfunction unfold() {\r\n\tthis.rows.forEach((v,i) => i && (v.style.display = \"\"));\r\n\tvar foldSignEl = this.header.querySelector(\".fold-sign\");\r\n\tfoldSignEl.dataset.foldState = \"unfolded\";\r\n\tdelete this.folded;\r\n\tutil.recurTravel(this, (m) => m.folded && m.fold());\r\n}\r\n\r\n// Context end\r\n\r\nfunction m__HeaderCode() {}\r\n\r\n\r\n\r\n\r\nfunction createTree(treeModel, _) {\r\n\t// version 3.0.0\r\n\t\r\n\r\n\tfunction recursive(mNode) {\r\n\t\tvar name = (_.getNameToPath)? _.getNameToPath(mNode) : mNode.name;\r\n\t\tmNode.path = _.getPath(pathArr);\r\n\t\tpathArr.push(name);\r\n\t\tmNode.pathname = _.getPath(pathArr);\r\n\t\tmNode.isBranchNode = !!(mNode.ch && mNode.ch.length);\r\n\r\n\t\t_.initNodeBefore && _.initNodeBefore(mNode);\r\n\r\n\t\tcreateRow(mNode, \"header\");\r\n\t\tlastChildStateArr.push(!(mNode.ch && mNode.ch.length)) + mArr.push(mNode);\r\n\t\t_.addSecondHeaderLine && createRow(mNode, \"second-header-line\");\r\n\t\t// createRow(mNode);\r\n\r\n\t\tif (mNode.isBranchNode) {\r\n\t\t\tvar lastChIndex = mNode.ch.length - 1\r\n\t\t\tfor (var i = 0; i < mNode.ch.length; i++) {\r\n\r\n\t\t\t\tmNode.ch[i].parent = mNode;\r\n\t\t\t\tmNode.ch[i].seqN = i;\r\n\r\n\t\t\t\tlastChildStateArr[lastChildStateArr.length - 1] = i == lastChIndex;\r\n\t\t\t\trecursive(mNode.ch[i]);\r\n\t\t\t}\t\t\r\n\t\t}\r\n\r\n\t\tpathArr.pop();\r\n\t\tlastChildStateArr.pop();\r\n\t\tmArr.pop();\r\n\t\t_.initNodeAfter && _.initNodeAfter(mNode);\r\n\t}\t\r\n\r\n\t_.getPath = _.getPath || ((pathArr) => pathArr.join(\"/\"));\r\n\t\r\n\tvar \r\n\t\tpathArr = treeModel.rootpath ? treeModel.rootpath.split(_.pathDiv) : [],\r\n\t\tlastChildStateArr = [],\r\n\t\trI = 0,\r\n\t\tmArr = []\r\n\r\n\trecursive(treeModel);\r\n\treturn _;\r\n\r\n\r\n\tfunction createRow(mNode, rowType) {\r\n\t\tvar cI = 0;\r\n\t\t_.newRow && _.newRow(mNode, rI);\r\n\r\n\t\tvar \r\n\t\t\tlen = lastChildStateArr.length,\r\n\t\t\tlastK = len - 1;\r\n\t\tfor (var k = 0; k < len; k++) {\r\n\t\t\tvar type;\r\n\r\n\t\t\tif (rowType == \"header\" && k == lastK) \r\n\t\t\t\ttype = lastChildStateArr[k] ? \"c\" : \"f\";\r\n\t\t\telse\r\n\t\t\t\ttype = lastChildStateArr[k] ? \"e\" : \"v\";\r\n\r\n\t\t\tvar rc = [rI, cI];\r\n\t\t\t_.addBranchEl(type, mArr[k] ,rc);\r\n\t\t\tcI ++;\r\n\t\t}\r\n\t\t\r\n\t\tvar rc = [rI, cI];\r\n\r\n\t\tif (rowType == \"header\") {\r\n\t\t\t_.addHeader(mNode ,rc);\r\n\r\n\t\t} else if (rowType == \"second-header-line\" && _.addHExt) {\r\n\t\t\t_.addSecondHeaderLine(mNode ,rc);\r\n\t\t} \r\n\r\n\t\t_.endOfRow && _.endOfRow(mNode, rI);\r\n\t\trI ++;\r\n\t}\r\n}\r\n\r\n","import ParseContext from \"./ParseContext.js\";\r\n\r\nexport default class HighlightAPI {\r\n\r\n\tconstructor (mainRule, clPref=\"syntax-hl-fk\") {\r\n\t\tthis.mainRule = mainRule;\r\n\t\tthis.clPref   = clPref  ;\r\n\t\t_setCSS(this);\r\n\t}\r\n\r\n\t/**\r\n\t * getHighlighted       (template, firstLineNum, cssClasses)\r\n\t * highlightTextContent (el)\r\n\t * scrollToFirstError   (el)\r\n\t * highlight            (el, template, firstLineNum)\r\n\t * setMainRule          (rule)\r\n\t */\r\n\r\n\tgetHighlighted       (...args) { return getHighlighted       (this, ...args); }\r\n\thighlightTextContent (...args) { return highlightTextContent (this, ...args); }\r\n\tscrollToFirstError   (...args) { return scrollToFirstError   (this, ...args); }\r\n\thighlight            (...args) { return highlight            (this, ...args); }\r\n\tsetMainRule          (...args) { return setMainRule          (this, ...args); }\r\n}\r\n\r\n\r\nfunction getHighlighted(self, text, firstLineNum=1, cssClasses=\"\") {\r\n\tconst el = document.createElement(\"div\");\r\n\tif (typeof cssClasses == \"string\")\r\n\t\tel.className += \" \" + cssClasses;\r\n\telse if (cssClasses instanceof Array) \r\n\t\tel.classList.add(...cssClasses);\r\n\telse \r\n\t\tthrow new Error([\r\n\t\t\t\"(!) getHighlighted(). \",\r\n\t\t\t\"Argument #3 must be a string, an array of strings, or undefined.\",\r\n\t\t\t\"\",\r\n\t\t\tcssClasses+\" given.\",\r\n\t\t\t\"\"\r\n\t\t].join(\"\\n\"));\r\n\thighlight(self, el, text, firstLineNum);\r\n\treturn el;\r\n}\r\n\r\nfunction highlightTextContent(self, el) {\r\n\treturn highlight(self, el, el.textContent, getFirstLineNum(el));\r\n}\r\n\r\nfunction scrollToFirstError(self, el) {\r\n\tconst errEl = el.querySelector(\".error\");\r\n\tif (errEl) {\r\n\t\t// errEl.scrollIntoView();\r\n\t\tconst \r\n\t\t\ttop = errEl.getBoundingClientRect().top - el.getBoundingClientRect().top,\r\n\t\t\tvpH = el.clientHeight,\r\n\t\t\tdeltaScroll = top - vpH / 2;\r\n\t\tel.scrollTop = deltaScroll;\r\n\t}\r\n}\r\n\r\nfunction highlight(self, contentEl, text, firstLineNum=1) {\r\n\tif (! (contentEl instanceof HTMLElement))\r\n\t\tthrow new Error([\r\n\t\t\t\"(!) highlight(). Argument #1 must be a HTMLElement.\",\r\n\t\t\t\"\",\r\n\t\t\tcontentEl + \" given.\",\r\n\t\t\t\"\"\r\n\t\t].join(\"\\n\"));\r\n\r\n\tif ([\"executing\", \"executed\", \"exec-error\"].some((v) => contentEl.classList.contains(v)))\r\n\t\tthrow new Error([\r\n\t\t\t\"(!) Highlighter. Already handled.\", \r\n\t\t\t\"\",\r\n\t\t\tcontentEl\r\n\t\t].join(\"\\n\"));\r\n\t\r\n\tcontentEl.classList.add(self.clPref);\r\n\tcontentEl.classList.add(\"executing\");\r\n\tcontentEl.innerHTML = \"\";\r\n\r\n\tif (typeof text != \"string\")\r\n\t\tthrow new Error([\r\n\t\t\t\"(!) highlight(). Argument #2 must be a string.\",\r\n\t\t\t\"\",\r\n\t\t\ttext + \" given.\",\r\n\t\t\t\"\"\r\n\t\t].join(\"\\n\"));\r\n\r\n\ttry {\r\n\t\tconst\r\n\t\t\tmodel    = _buildModel(self, text),\r\n\t\t\tcontents = _renderToHighlight(self, model, firstLineNum);\r\n\t\tcontents.forEach((lineOb) => lineOb.appendTo(contentEl));\r\n\t\tcontentEl.classList.remove(\"executing\");\r\n\t\tcontentEl.classList.add(\"executed\");\r\n\t} catch (e) {\r\n\t\tconsole.error(`(!)-CATCHED`, e);\r\n\t\tconst lines = text.split(\"\\n\");\r\n\t\tlines.forEach((line, i, a) => {\r\n\t\t\tlet lineOb = _makeLine(self, firstLineNum + i);\r\n\t\t\tlet m = line.match(/^(\\s*)(.*)/);\r\n\t\t\t[lineOb.indent.textContent, lineOb.content.textContent] = [m[1], m[2]];\r\n\t\t\tif (i < a.length - 1)\r\n\t\t\t\tlineOb.setEol();\r\n\t\t\tlineOb.appendTo(contentEl);\r\n\t\t});\r\n\t\tcontentEl.classList.remove(\"executing\");\r\n\t\tcontentEl.classList.add(\"exec-error\");\r\n\t}\r\n}\r\n\r\nfunction setMainRule(self, rule) {\r\n\tself.mainRule = rule;\r\n}\r\n\r\nfunction _buildModel(self, text) {\r\n\tconst mSlot = [];\r\n\tself.mainRule(new ParseContext({\r\n\t\ttext, \r\n\t\ti: 0, \r\n\t\tmSlot, \r\n\t\tdStack: []\r\n\t}));\r\n\treturn mSlot;\r\n}\r\n\r\nfunction _renderToHighlight (self, model, firstLineNum=1) {\r\n\tconst content = [], nodeStack = [];\r\n\tlet lNum = firstLineNum, indentZoneFlag = true, lastLine;\r\n\tnodeStack.last = () => nodeStack[nodeStack.length - 1];\r\n\tcontent.push(lastLine = _makeLine(self, lNum ++));\r\n\trecur(model);\r\n\treturn content;\r\n\tfunction recur(sb) {\r\n\t\tif (sb instanceof Array) {\r\n\t\t\tsb.forEach(recur);\r\n\t\t} else if (typeof sb == \"object\") {\r\n\t\t\tsb.parent = nodeStack.last() || null;\r\n\r\n\t\t\tnodeStack.push(sb);\r\n\t\t\trecur(sb.ch);\r\n\t\t\tnodeStack.pop();\r\n\r\n\t\t} else if (typeof sb == \"string\") {\r\n\t\t\tif (sb == \"\\n\") {\r\n\t\t\t\tlastLine.setEol();\r\n\t\t\t\tcontent.push(lastLine = _makeLine(self, lNum ++));\r\n\t\t\t\tindentZoneFlag = true;\r\n\t\t\t} else if (indentZoneFlag && sb.match(/^\\s+$/)) {\r\n\t\t\t\tlastLine.indent.innerHTML += sb;\r\n\t\t\t} else {\r\n\t\t\t\tlet _sb = sb;\r\n\t\t\t\tif (indentZoneFlag) {\r\n\t\t\t\t\tconst m = sb.match(/^(\\s*)(.*)/);\r\n\t\t\t\t\tif (! m)\r\n\t\t\t\t\t\tthrow new Error(`sb not matched with /^(\\\\s+)(.*)/. sb = ${sb}`)\r\n\t\t\t\t\tconst\r\n\t\t\t\t\t\tindent = m[1],\r\n\t\t\t\t\t\ttheText = m[2];\r\n\t\t\t\t\tlastLine.indent.innerHTML += indent;\r\n\t\t\t\t\t_sb = theText;\r\n\t\t\t\t\tindentZoneFlag = false;\r\n\t\t\t\t}\r\n\t\t\t\tconst \r\n\t\t\t\t\tlastDomainNode = nodeStack.last(),\r\n\t\t\t\t\tclassName = nodeStack.map(v => v.name).filter(v => v).join(\"- \"),\r\n\t\t\t\t\tel = _evaluate(`<span class=\"${className || \"\"}\"></span>`);\r\n\t\t\t\tif (nodeStack.last()?.name == \"error\") {\r\n\t\t\t\t\tlastLine.guter.classList.add(\"error\");\r\n\t\t\t\t\tlastLine.guter.title = nodeStack.last()?.msg;\r\n\t\t\t\t}\r\n\t\t\t\tif (nodeStack.last()?.name == \"after-error\") {\r\n\t\t\t\t\tlastLine.guter.classList.add(\"after-error\");\r\n\t\t\t\t\tlastLine.guter.title = nodeStack.last()?.msg;\r\n\t\t\t\t}\r\n\t\t\t\tlastLine.content.appendChild(el);\r\n\t\t\t\tel.textContent = _sb;\r\n\t\t\t\tel.astNode = nodeStack.last();\r\n\t\t\t\tconst msgStr = nodeStack.reduce((a,v) => {\r\n\t\t\t\t\tif (v.msg) \r\n\t\t\t\t\t\ta += `${v.name} : ${v.msg} \\n`;\r\n\t\t\t\t\treturn a;\r\n\t\t\t\t}, \"\");\r\n\t\t\t\tif (msgStr) {\r\n\t\t\t\t\tel.title = msgStr;\r\n\t\t\t\t\tel.style.cursor = \"pointer\";\r\n\t\t\t\t}\r\n\t\t\t\tif (lastDomainNode) {\r\n\t\t\t\t\tel.dataset.region = `${lastDomainNode.i0}:${lastDomainNode.i1}`;\r\n\t\t\t\t\tel.domain = lastDomainNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Invalid model node\", sb);\r\n\t\t\tthrow new Error(\"Invalid model node.\")\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction _makeLine(self, num) {\r\n\treturn Object.setPrototypeOf(\r\n\t\t{\r\n\t\t\tline: _evaluate(\r\n\t\t\t\t`<span class=\"${self.clPref}__line\">`+\r\n\t\t\t\t\t`<span class=\"${self.clPref}__line-number\" data-line-number=\"${num}\"></span>`+\r\n\t\t\t\t\t`<span class=\"${self.clPref}__line-indent\"></span>`+\r\n\t\t\t\t\t`<span class=\"${self.clPref}__line-text\"  ></span>`+\r\n\t\t\t\t`</span>`\r\n\t\t\t),\r\n\t\t\teol: null,\r\n\t\t\tget guter  () {return this.line.children[0]},\r\n\t\t\tget indent () {return this.line.children[1]},\r\n\t\t\tget content() {return this.line.children[2]},\r\n\t\t},\r\n\t\t{\r\n\t\t\tappendTo: function(parent) {\r\n\t\t\t\tparent.appendChild(this.line);\r\n\t\t\t\tif (this.eol)\r\n\t\t\t\t\tparent.appendChild(this.eol);\r\n\t\t\t},\r\n\t\t\tsetEol: function() {this.eol = _evaluate(`<span>\\n</span>`);}\r\n\t\t}\r\n\t) \r\n}\r\n\r\nfunction _setCSS(self) {\r\n\t\r\n\tconst cssCode = `\r\n\t\t.syntax-hl-fk {\r\n\t\t  text-align: left;\r\n\t\t  white-space: pre;\r\n\t\t  background-color: #444;\r\n\t\t  color: #ccc;\r\n\t\t  -moz-tab-size: 4;\r\n\t\t  tab-size: 4;\r\n\t\t  overflow: auto;\r\n\t\t  max-height: 500px;\r\n\t\t  padding: 20px;\r\n\t\t  font-family: consolas, monospace; }\r\n\t\t  .syntax-hl-fk *::selection {\r\n\t\t    background-color: #000;\r\n\t\t    background-color: rgba(120, 120, 120, 0.5); }\r\n\t\t  .syntax-hl-fk .syntax-hl-fk__line {\r\n\t\t    margin-left: -20px; }\r\n\t\t    .syntax-hl-fk .syntax-hl-fk__line > * {\r\n\t\t      display: table-cell; }\r\n\t\t    .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-number {\r\n\t\t      width: 50px;\r\n\t\t      min-width: 50px;\r\n\t\t      max-width: 50px;\r\n\t\t      text-align: right;\r\n\t\t      background-color: #333;\r\n\t\t      padding-right: 10px;\r\n\t\t      margin-right: 5px;\r\n\t\t      transition: all .2s; }\r\n\t\t      .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-number:before {\r\n\t\t        content: attr(data-line-number) \"\"; }\r\n\t\t    .syntax-hl-fk .syntax-hl-fk__line span.syntax-hl-fk__line-number.error {\r\n\t\t      color: #fff;\r\n\t\t      background-color: #e48; }\r\n\t\t    .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-indent {\r\n\t\t      padding-left: 5px; }\r\n\t\t    .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-text {\r\n\t\t      padding-left: 20px;\r\n\t\t      white-space: pre-wrap;\r\n\t\t      word-break: break-word; }\r\n\t\t      .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-text .error {\r\n\t\t        color: #fff;\r\n\t\t        background-color: #e48;\r\n\t\t        box-shadow: inset 0 0 2px #fff; }\r\n\t\t      .syntax-hl-fk .syntax-hl-fk__line .syntax-hl-fk__line-text:before {\r\n\t\t        content: \"\";\r\n\t\t        margin-left: -20px; }\r\n\r\n\t`.replace(/syntax-hl-fk/g, self.clPref);\r\n\r\n\tconst styleClassName = `${self.clPref}__base-style`;\r\n\r\n\tconst styleAlreadyExists = [].some.call(\r\n\t\tdocument.querySelectorAll(`style.${styleClassName}`), \r\n\t\t(v) => v.textContent === cssCode\r\n\t);\r\n\r\n\tif (! styleAlreadyExists) {\r\n\t\tconst style = _evaluate(`<style class=\"${styleClassName}\"></style>`);\r\n\t\tstyle.textContent = cssCode;\r\n\t\tdocument.head.appendChild(style);\r\n\t}\r\n}\r\n\r\nfunction _evaluate (code) {\r\n\tconst shell = document.createElement(\"div\");\r\n\tshell.innerHTML = code;\r\n\treturn shell.children[0];\r\n}\r\n\r\n\r\nfunction getFirstLineNum(el) {\r\n\tconst dln = parseInt(el.dataset.lineNum);\r\n\tif (! dln)\r\n\t\treturn 1;\r\n\telse if (el.nodeName == \"PRE\")\r\n\t\treturn dln + 1;\r\n\telse \r\n\t\treturn dln;\r\n}","export default class ModelNode {\r\n\tconstructor (name, ch) {\r\n\t\tObject.defineProperties(this,{\r\n\t\t\tname: {value: name},\r\n\t\t\tch  : {value: ch},\r\n\t\t});\r\n\t}\r\n\r\n\tget text () {\r\n\t\tlet res = \"\";\r\n\t\trecur(this.ch);\r\n\t\treturn res;\r\n\t\tfunction recur(sb) {\r\n\t\t\tif (sb instanceof Array) {\r\n\t\t\t\tsb.forEach(recur);\r\n\t\t\t} else if (typeof sb == \"object\") {\r\n\t\t\t\trecur(sb.ch);\r\n\t\t\t} else {\r\n\t\t\t\tres += sb;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import ModelNode    from \"./ModelNode.js\";\r\n\r\nexport default class ParseContext {\r\n\tconstructor(pc) {\r\n\t\tObject.defineProperties(this,{\r\n\t\t\ttext:   {value: pc.text},\r\n\t\t\tmSlot:  {value: pc.mSlot},\r\n\t\t\tdStack: {value: pc.dStack},\r\n\t\t\tlFStack: {value: pc.lFStack},\r\n\t\t\terrC: {value: pc.errC || {eFlag: false}},\r\n\t\t});\r\n\t\tthis.i = pc.i;\r\n\t\tthis.i0 = pc.i0;\r\n\t\tthis.selfMN = pc.selfMN;\r\n\t\tthis.monitor = pc.monitor;\r\n\t\t// this.debugDomain = pc.debugDomain;\r\n\t}\r\n\tmatch (templ) {\r\n\t\tconst {mSubstr, len} = this._getMatchSubstr(templ);\r\n\r\n\t\tif (mSubstr) {\r\n\t\t\tthis.i += len;\r\n\t\t\tpush(this.mSlot, mSubstr);\r\n\t\t\tthis.monitor = this.i+ \" : \"+this.text.substr(this.i, 20)\r\n\t\t\treturn mSubstr;\r\n\t\t} else\r\n\t\t\treturn \"\";\r\n\t}\r\n\tnotMatch (templ) {\r\n\t\tconst {mSubstr, len} = this._getMatchSubstr(templ);\r\n\r\n\t\tif (mSubstr) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tconst simbol = this.text[this.i];\r\n\t\t\tpush(this.mSlot, simbol);\r\n\t\t\tthis.i += 1;\r\n\t\t\tthis.monitor = this.i+ \" : \"+this.text.substr(this.i, 20);\r\n\t\t\treturn simbol;\r\n\t\t}\r\n\r\n\r\n\t\tconst hpc = this.createHypo();\r\n\t\tif (! hpc.match(templ)) {\r\n\t\t\tthis.match(this.text[this.i]);\r\n\t\t\treturn true;\r\n\t\t} else\r\n\t\t\treturn false;\r\n\t}\r\n\tcreateHypo () {\r\n\t\tconst \r\n\t\t\t{text, i, mSlot, dStack, errC} = this,\r\n\t\t\thpc = {text, i, mSlot: [], dStack, errC};\r\n\t\treturn new ParseContext(hpc);\r\n\t}\r\n\tacceptHypo (hpc) {\r\n\t\tthis.i = hpc.i;\r\n\t\tthis.monitor = hpc.monitor;\r\n\t\t// this.mSlot.push(...hpc.mSlot);\r\n\t\thpc.mSlot.forEach((v) => push(this.mSlot, v));\r\n\t\treturn true;\r\n\t}\r\n\tcreateChildHypo (name) {\r\n\t\tconst \r\n\t\t\t{text, i, dStack, errC} = this,\r\n\t\t\tmSlot = [],\r\n\t\t\tmn = new ModelNode(name, mSlot),\r\n\t\t\thpc = {text, i, i0: i, mSlot, selfMN: mn, dStack, errC};\r\n\t\tmn.i0 = i;\r\n\t\treturn new ParseContext(hpc);\r\n\t}\r\n\tacceptChildHypo (hpc) {\r\n\t\tthis.i = this.i1 = hpc.i;\r\n\t\tpush(this.mSlot, hpc.selfMN);\r\n\t\thpc.selfMN.i1 = hpc.i;\r\n\t\tif (hpc.msg)\r\n\t\t\thpc.selfMN.msg = hpc.msg;\r\n\t\thpc.selfMN = null;\r\n\t\treturn true;\r\n\t}\r\n\t_getMatchSubstr (templ) {\r\n\t\tlet mSubstr = \"\", len;\r\n\t\tif (typeof templ == \"string\") {\r\n\t\t\tlen = templ.length;\r\n\t\t\tconst substr = this.text.substr(this.i, len);\r\n\t\t\tif (substr === templ)\r\n\t\t\t\tmSubstr = substr;\r\n\t\t\t\r\n\t\t} else if (templ instanceof RegExp) {\r\n\t\t\ttempl.lastIndex = this.i;\r\n\t\t\tconst mOb    = this.text.match(templ);\r\n\t\t\tmSubstr =  mOb && mOb[0] || \"\";\r\n\t\t\tlen = mSubstr.length;\r\n\t\t}\r\n\r\n\t\treturn {mSubstr, len};\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction push(arr, subj) {\r\n\tif (typeof subj == \"string\") {\r\n\t\tlet lines = subj.split(\"\\n\");\r\n\t\tfor (let [k, line] of lines.entries()) {\r\n\t\t\tif (k)\r\n\t\t\t\tarr.push(\"\\n\");\r\n\t\t\tif (line)\r\n\t\t\t\tpushOneLineText(arr, line);\r\n\t\t}\r\n\t} else \r\n\t\tarr.push(subj);\r\n}\r\n\r\nfunction pushOneLineText(arr, subj) {\r\n\tlet i = arr.length - 1;\r\n\tif (\r\n\t\ttypeof arr[i] == \"string\" \r\n\t\t&& typeof subj == \"string\" \r\n\t\t&& arr[i] !== \"\\n\" \r\n\t\t&& subj !== \"\\n\"\r\n\t\t&& (\r\n\t\t\tsubj.match(/^\\s+$/) && arr[i].match(/^\\s+$/) \r\n\t\t\t||\r\n\t\t\t! subj.match(/^\\s+$/) && ! arr[i].match(/^\\s+$/) \r\n\t\t)\r\n\t)\r\n\t\tarr[i] += subj;\r\n\telse\r\n\t\tarr.push(subj);\r\n}","export  default {\r\n\ttoken,\r\n\tnToken,\r\n\tspToken,\r\n\trule,\r\n\tdomain,\r\n\tseq,\r\n\talter,\r\n\tq,\r\n\tnot,\r\n\tspWrap,\r\n\terror,\r\n\tdeb,\r\n};\r\n\r\nconst Analyzer_proto = {\r\n\tq : function (quanto, sepCallb=undefined) {\r\n\t\tif (quanto == \"*/\" || quanto == \"+/\")\r\n\t\t\tchekToAnalyzer(\"analyzer.q\", 2, sepCallb);\r\n\t\treturn q(this, quanto, sepCallb);\r\n\t},\r\n\tin : function (name) {\r\n\t\treturn domain(name, this);\r\n\t},\r\n\tand : function (callb) {\r\n\t\tchekToAnalyzer(\"analyzer.and\", 1, callb);\r\n\t\treturn seq(this, callb);\r\n\t},\r\n\tor : function (callb) {\r\n\t\tchekToAnalyzer(\"analyzer.or\", 1, callb);\r\n\t\treturn alter(this, callb);\r\n\t},\r\n\tbreak : function (...args) {\r\n\t\tfor (let [k, callb] of args.entries())\r\n\t\t\tchekToAnalyzer(\"analyzer.break\", k + 1, callb);\r\n\t\tlet message = \"\";\r\n\t\tconst _break_ = (pc) => {\r\n\t\t\tif(this(pc)) {\r\n\t\t\t\tseq(...args).or(undefinedError(message))(pc);\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tObject.setPrototypeOf(_break_, Analyzer_proto);\r\n\t\t_break_.msg = function(msg) {\r\n\t\t\tmessage = msg;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\treturn _break_;\r\n\t},\r\n\tcatch : function (msg) {\r\n\t\tconst _catch_ = (pc) => {\r\n\t\t\treturn alter(\r\n\t\t\t\tthis,\r\n\t\t\t\terror(msg)\r\n\t\t\t)(pc);\r\n\t\t}\r\n\t\tObject.setPrototypeOf(_catch_, Analyzer_proto);\r\n\t\treturn _catch_;\r\n\t},\r\n\tdeb : function (i0=0, i1=0) {\r\n\t\treturn deb(this, i0, i1);\r\n\t},\r\n};\r\n\r\nObject.setPrototypeOf(Analyzer_proto, Function);\r\n\r\nfunction seq(...callbs) {\r\n\tfor (let [k, callb] of callbs.entries())\r\n\t\tchekToAnalyzer(\"seq\", k + 1, callb);\r\n\tfunction _seq_(pc) {\r\n\t\tconst hpc = pc.createHypo();\r\n\t\tfor (let [k, callb] of callbs.entries()) {\r\n\t\t\tconst res = callb(hpc);\r\n\t\t\tif (res || pc.errC.eFlag) \r\n\t\t\t\tcontinue;\r\n\t\t\telse \r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\tpc.acceptHypo(hpc);\r\n\t\treturn true;\r\n\t}\r\n\tObject.setPrototypeOf(_seq_, Analyzer_proto);\r\n\treturn _seq_;\r\n}\r\n\r\nfunction alter(...callbs) {\r\n\tfor (let [k, callb] of callbs.entries())\r\n\t\tchekToAnalyzer(\"alter\", k + 1, callb);\r\n\tfunction _alter_(pc) {\r\n\t\tlet res;\r\n\t\tfor (let [k, callb] of callbs.entries()) {\r\n\t\t\tconst res = callb(pc);\r\n\t\t\tif (res)\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tObject.setPrototypeOf(_alter_, Analyzer_proto);\r\n\treturn _alter_;\r\n}\r\n\r\nfunction q(callb, quanto, callb2=undefined) {\r\n\tchekToAnalyzer(\"q\", 1, callb);\r\n\tlet _q_;\r\n\tif (quanto == \"*\") {\r\n\t\t_q_ = function _q_zero_or_many_(pc) {\r\n\t\t\twhile (pc.text[pc.i]) {\r\n\t\t\t\tlet i0 = pc.i, status;\r\n\t\t\t\tstatus = callb(pc);\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tif (i0 != pc.i) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Not strict variant. Mismatches allowed throw error message in console.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tconsole.error(`(!)`, `i0 == pc.i`, \r\n\t\t\t\t\t\t\t\"\\n\\tpc.i :\", pc.i, \"\\n\\tpc.monitor :\", pc.monitor); \r\n\t\t\t\t\t\tpc.i ++;\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Strict variant. Mismatches forbidden. Script will stoped.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\t// console.error(`(!)`, `i0 == pc.i`, pc); debugger; throw new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else \r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} else if (quanto == \"+\") {\r\n\t\t_q_ = function _q_one_or_many_(pc) {\r\n\t\t\treturn callb(pc) && q(callb, \"*\")(pc);\r\n\t\t}\r\n\t} else if (quanto == \"?\") {\r\n\t\t_q_ = function _q_zero_or_one_(pc) {\r\n\t\t\treturn callb(pc) || true;\r\n\t\t}\r\n\t} else if (quanto == \"*/\") {\r\n\t\tchekToAnalyzer(\"q\", 3, callb2);\r\n\t\t_q_ = function _q_zero_or_many_sep_(pc) {\r\n\t\t\tseq(\r\n\t\t\t\tcallb,\r\n\t\t\t\tseq(callb2, callb).q(\"*\")\r\n\t\t\t)(pc);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} else if (quanto == \"+/\") {\r\n\t\tchekToAnalyzer(\"q\", 3, callb2);\r\n\t\t_q_ = function _q_one_or_many_sep_(pc) {\r\n\t\t\treturn seq(\r\n\t\t\t\t\tcallb,\r\n\t\t\t\t\tseq(callb2, callb).q(\"*\")\r\n\t\t\t\t)(pc);\r\n\t\t}\r\n\t} else {\r\n\t\tconsole.error(`(!)`, `Invalid quantifier`, `'${quanto}'`); debugger; throw new Error();\r\n\t}\r\n\r\n\tObject.setPrototypeOf(_q_, Analyzer_proto);\r\n\treturn _q_;\r\n}\r\n\r\nfunction not(callb) {\r\n\tchekToAnalyzer(\"not\", 1, callb);\r\n\tconst _not_ = function _not_(pc) {\r\n\t\tconst hpc = pc.createHypo();\r\n\t\tconst res = callb(hpc);\r\n\t\tif (! res) {\r\n\t\t\tpc.match(pc.text[pc.i]);\r\n\t\t\treturn true;\r\n\t\t} else \r\n\t\t\treturn false;\r\n\t}\r\n\tObject.setPrototypeOf(_not_, Analyzer_proto);\r\n\treturn _not_;\r\n}\r\n\r\nfunction domain(name, callb, msg=null) {\r\n\tconst _domain_ = function _domain_(pc) {\r\n\t\tconst\r\n\t\t\tchpc = pc.createChildHypo(name),\r\n\t\t\tstatus = callb(chpc)\r\n\t\tif (msg) \r\n\t\t\tchpc.msg = msg;\r\n\t\tif (status || pc.errC.eFlag) \r\n\t\t\tpc.acceptChildHypo(chpc);\r\n\t\treturn !! status;\r\n\t}\r\n\t_domain_.msg = function (text) {\r\n\t\treturn domain(name, callb, text);\r\n\t}\r\n\t_domain_.as = function(otherName, msg=null) {\r\n\t\treturn domain(otherName, callb);\r\n\t}\r\n\tObject.setPrototypeOf(_domain_, Analyzer_proto);\r\n\treturn _domain_;\r\n}\r\n\r\nfunction rule(callb) {\r\n\tconst _rule_ = function _rule_(pc) {\r\n\t\tconst \r\n\t\t\thpc    = pc.createHypo(),\r\n\t\t\tstatus = callb(hpc);\r\n\t\tif (status || pc.errC.eFlag) \r\n\t\t\tpc.acceptHypo(hpc);\r\n\t\treturn !! status;\r\n\t}\r\n\tObject.setPrototypeOf(_rule_, Analyzer_proto);\r\n\treturn _rule_;\r\n}\r\n\r\nfunction token(templ) {\r\n\tconst _token_ = function _token_(pc) {\r\n\t\treturn pc.match(templ);\r\n\t}\r\n\tObject.setPrototypeOf(_token_, Analyzer_proto);\r\n\treturn _token_;\r\n}\r\n\r\nfunction nToken(templ) {\r\n\tconst _notToken_ = function _notToken_(pc) {\r\n\t\treturn pc.notMatch(templ);\r\n\t}\r\n\tObject.setPrototypeOf(_notToken_, Analyzer_proto);\r\n\treturn _notToken_;\r\n}\r\n\r\nfunction spToken(templ) {\r\n\tconst _space_wrapped_token_ = function(pc) {\r\n\t\treturn seq(token(/\\s+/y).q(\"*\"), token(templ), token(/\\s+/y).q(\"*\"),)(pc);\r\n\t}\r\n\tObject.setPrototypeOf(_space_wrapped_token_, Analyzer_proto);\r\n\treturn _space_wrapped_token_;\r\n}\r\n\r\nfunction spWrap(callb) {\r\n\tchekToAnalyzer(\"spWrap\", 1, callb);\r\n\tconst _space_wrapped_ = function(pc) {\r\n\t\treturn seq(token(/\\s+/y).q(\"*\"), callb, token(/\\s+/y).q(\"*\"),)(pc);\r\n\t}\r\n\tObject.setPrototypeOf(_space_wrapped_, Analyzer_proto);\r\n\treturn _space_wrapped_;\r\n}\r\n\r\nfunction error(msg) {\r\n\tconst _error_ = function(pc) {\r\n\t\tdomain(\"error\", token(/\\s*.*/y), msg)(pc);\r\n\t\tpc.errC.eFlag = true;\r\n\t\tdomain(\"after-error\", token(/\\s+|\\S+/y), msg).q(\"*\")(pc);\r\n\t\treturn true;\r\n\t}\r\n\tObject.setPrototypeOf(_error_, Analyzer_proto);\r\n\treturn _error_;\r\n}\r\n\r\nfunction undefinedError(msg) {\r\n\tconst _undefined_error_ = function(pc) {\r\n\t\treturn error(\"Undefined error. \"+msg)(pc);\r\n\t}\r\n\tObject.setPrototypeOf(_undefined_error_, Analyzer_proto);\r\n\treturn _undefined_error_;\r\n}\r\n\r\nfunction deb(callb, a=0, b=0) {\r\n\tchekToAnalyzer(\"deb\", 1, callb);\r\n\tfunction _deb_(pc) {\r\n\t\tb = b || pc.text.length;\r\n\t\tif (a <= pc.i && pc.i <= b) {\r\n\t\t\tdebugger;\r\n\t\t\tconst res = callb(pc);\r\n\t\t\tconsole.log(`res`, res);\r\n\t\t\tdebugger;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t}\r\n\tObject.setPrototypeOf(_deb_, Analyzer_proto);\r\n\treturn _deb_;\r\n}\r\n\r\nfunction chekToAnalyzer(fName, argN, callb) {\r\n\tif (! callb || callb instanceof Analyzer_proto) {\r\n\t\tconsole.error(`Argument`, argN, `(from 1) of function '${fName}()' is not Analiser. There is: \\n`, callb?.toString ? callb.toString() : callb);\r\n\t\tthrow new Error(`Invalid callback. \\n\\tArgument ${argN} of function '${fName}()' is not Analiser. \\n`);\r\n\t} else\r\n\t\treturn true;\r\n}","import describeAPI from \"./describeAPI.js\";\r\nimport Highlighter from \"./Highlighter.js\";\r\n\r\nexport default {\r\n\tversion: \"5.2.3\",\r\n\tdescribeAPI,\r\n\tHighlighter,\r\n};","export default {\r\n\tgetSymId,\r\n\tgetSymById,\r\n\tgetSymbolToStr,\r\n\tgetSymbolToHtmlStr,\r\n\teval: evalHTML,\r\n\trecurTravel,\r\n\tflatTempl,\r\n\tgetJson,\r\n\tgetFromJson,\r\n\tgetToString,\r\n\ttoOneSting,\r\n\t\"@@\" : [],\r\n\t\"symbolStatProps\" : [\r\n\t\t\"asyncIterator\",\r\n\t\t\"hasInstance\",\r\n\t\t\"isConcatSpreadable\",\r\n\t\t\"iterator\",\r\n\t\t\"match\",\r\n\t\t\"matchAll\",\r\n\t\t\"replace\",\r\n\t\t\"search\",\r\n\t\t\"species\",\r\n\t\t\"split\",\r\n\t\t\"toPrimitive\",\r\n\t\t\"toStringTag\",\r\n\t\t\"unscopables\",\r\n\t],\r\n};\r\n\r\n\r\n\r\nfunction getSymId(sym) {\r\n\tvar id = {sym}, x;\r\n\t\r\n\tif (x = sym.description)\r\n\t\tid.descr = x;\r\n\t\r\n\tif (x = Symbol.keyFor(sym))\r\n\t\tid.globRegKey = x;\r\n\r\n\tif (x = this[\"symbolStatProps\"].find((v) => Symbol[v] && Symbol[v] == sym))\r\n\t\tid.statProp = x;\r\n\r\n\tif ((x = this[\"@@\"].indexOf(sym)) == -1) \r\n\t\tx = this[\"@@\"].push(sym) - 1;\r\n\tid[\"@@-number\"] = x;\r\n\r\n\treturn id;\r\n}\r\n\r\nfunction getSymById(id) {\r\n\tif (id.sym) {\r\n\t\treturn id.sym;\r\n\t} else if (id.statProp) {\r\n\t\treturn Symbol[id.statProp];\r\n\t} else if (id[\"@@-number\"]) {\r\n\t\treturn this[\"@@\"][id[\"@@-number\"]] || \r\n\t\t\tSymbol(\"-pseudo@@-\"+id[\"@@-number\"]+\"-\"+id.descr);\r\n\t} else {\r\n\t\treturn Symbol(\"-pseudo@@-\"+id.descr);\r\n\t}\r\n}\r\n\r\nfunction getSymbolToStr(subj) {\r\n\tvar id, str = \"\";\r\n\tif (typeof subj == \"symbol\")\r\n\t\tid = this.getSymId(subj);\r\n\telse if (typeof subj == \"object\")\r\n\t\tid = subj;\r\n\telse \r\n\t\tconsole.error(\"(!)-USER'S \", \r\n\t\t\t\"'subj' is not 'symbol' and not 'object'\", \r\n\t\t\t\"\\nsubj:\", subj);\r\n\tstr += `-@@-${id[\"@@-number\"]}-`;\r\n\tif (id.descr)\r\n\t\tstr += id.descr;\r\n\r\n\treturn str;\r\n}\r\n\r\nfunction getSymbolToHtmlStr(subj) {\r\n\tvar id, str = \"\";\r\n\tif (typeof subj == \"symbol\")\r\n\t\tid = this.getSymId(subj);\r\n\telse if (typeof subj == \"object\")\r\n\t\tid = subj;\r\n\telse \r\n\t\tconsole.error(\"(!)-USER'S \", \r\n\t\t\t\"'subj' is not 'symbol' and not 'object'\", \r\n\t\t\t\"\\nsubj:\", subj);\r\n\tstr += `<span class=\"local-reg-num\">${id[\"@@-number\"]}</span>`;\r\n\tif (id.descr)\r\n\t\tstr += `<span class=\"symbol-description\">${id.descr}</span>`;\r\n\r\n\treturn str;\r\n}\r\n\r\nfunction evalHTML(code, wrElName=\"div\") {\r\n\tvar wr = document.createElement(wrElName);\r\n\twr.innerHTML = code;\r\n\treturn wr;\r\n}\r\n\r\nfunction recurTravel(t, callb) {\r\n\tfunction recursive(m, callb) {\r\n\t\tcallb(m);\r\n\t\tif (m.ch && m.ch.length)\r\n\t\t\tfor (var ch of m.ch) \r\n\t\t\t\trecursive(ch, callb);\r\n\t}\r\n\trecursive(t, callb);\r\n}\r\n\r\nfunction flatTempl(t) {\r\n\tvar flat = [];\r\n\tthis.recurTravel(t, (m) => flat.push(m));\r\n\treturn flat;\r\n}\r\n\r\nfunction getJson(ob) {\r\n\tif (!ob || typeof ob == \"string\") {\r\n\t\treturn JSON.stringify(ob);\r\n\t} else {\r\n\t\tob[\"jsot-JSON-format-ver\"] = \"3.2.0\";\r\n\t\tthis.flatTempl(ob).forEach((v) => {\r\n\t\t\t// delete v.parent;\r\n\t\t\tif (typeof v.nip == \"symbol\")\r\n\t\t\t\tv.n_sym = this.getSymId(v.nip);\r\n\t\t\t\t// v.sym_nip = this.getSymbolValueStr(v.nip)\r\n\t\t\t\r\n\t\t\tif (typeof v.v == \"symbol\")\r\n\t\t\t\tv.v_sym = this.getSymId(v.v);\r\n\r\n\t\t\tif (v.v === undefined) {\r\n\t\t\t\tv.sp_v = \"undefined\";\r\n\t\t\t\t// delete v.v;\r\n\t\t\t}\r\n\t\t\tif (v.v === NaN) {\r\n\t\t\t\tv.sp_v = \"NaN\";\r\n\t\t\t\t// delete v.v;\r\n\t\t\t}\r\n\t\t\tif (v.v === Infinity) {\r\n\t\t\t\tv.sp_v = \"Infinity\";\r\n\t\t\t\t// delete v.v;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (v.ch) { \r\n\t\t\t\t// Чтобы атрибут 'ch' был последним в списке атрибутов. \r\n\t\t\t\t// Это делает JSON-строку более человеко-понятной.\r\n\t\t\t\tvar ch = v.ch;\r\n\t\t\t\tdelete v.ch;\r\n\t\t\t\tv.ch = ch;\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar res = JSON.stringify(ob, (k,v) => {\r\n\t\t\tif ([\r\n\t\t\t\t\"parent\", \r\n\t\t\t\t\"header\",\r\n\t\t\t\t\"cBar\",\r\n\t\t\t].includes(k))\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\tif ([\r\n\t\t\t\t\"rows\",\r\n\t\t\t\t\"name\",\r\n\t\t\t\t\"path\",\r\n\t\t\t\t\"pathname\",\r\n\t\t\t\t\"isBranchNode\",\r\n\t\t\t].includes(k))\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\treturn v;\r\n\t\t}, \"\\t\");\r\n\r\n\t\tdelete ob[\"jsot-JSON-format-ver\"];\r\n\r\n\t\treturn res;\r\n\t}\r\n}\r\n\r\nfunction getFromJson(json) {\r\n\tif (json) {\r\n\t\tvar ob = JSON.parse(json);\r\n\t\tthis.flatTempl(ob).forEach((v) => {\r\n\t\t\t/*if (v.sym_nip)\r\n\t\t\t\tv.nip = Symbol[v.sym_nip];*/ // Обратная совместимость.\r\n\r\n\t\t\tif (v.n_sym)\r\n\t\t\t\tv.nip = this.getSymById(v.n_sym);\r\n\r\n\t\t\tif (v.v_sym)\r\n\t\t\t\tv.v = this.getSymById(v.v_sym);\r\n\r\n\t\t\tif (v.sp_v == \"undefined\") {\r\n\t\t\t\tv.v = undefined;\r\n\t\t\t\t// delete sp_v;\r\n\t\t\t}\r\n\t\t\tif (v.sp_v == \"NaN\") {\r\n\t\t\t\tv.v = NaN;\r\n\t\t\t\t// delete sp_v;\r\n\t\t\t}\r\n\t\t\tif (v.sp_v == \"Infinity\") {\r\n\t\t\t\tv.v = Infinity;\r\n\t\t\t\t// delete sp_v;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn ob;\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n}\r\n\r\nfunction getToString(v) {\r\n\tif (v) {\r\n\t\tif (v.toString) {\r\n\t\t\treturn v.toString();\r\n\t\t} else {\r\n\t\t\treturn v+\"\";\r\n\t\t}\r\n\t} else {\r\n\t\treturn v+\"\";\r\n\t}\r\n}\r\n\r\nfunction toOneSting(text, length=50) {\r\n\tvar \r\n\t\tellipsis = \" ... \",\r\n\t\tslice;\r\n\tif (length < text.length ) {\r\n\t\tslice = text.slice(0, length - ellipsis.length)+ellipsis;\r\n\t} else if (length < text.length - ellipsis.length && text.length <= length) {\r\n\t\tslice = text.slice(0, length - ellipsis.length);\r\n\t} else {\r\n\t\tslice = text;\r\n\t}\r\n\treturn slice.replace(/\\n/g, \"┓\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.js\");\n",""],"names":[],"sourceRoot":""}